import{c as he,_ as wt,a8 as hr,r as z,j as u,a9 as tt,H as pr,U as mr,L as Zt,aa as vr,ab as gr,a as yr}from"./index-ctC3Ugkw.js";import{v as _r}from"./reports-Cg8x7g7V.js";import{A as br}from"./arrow-left-JO4dscP7.js";import{S as xr}from"./shield-check-BoDZuYJj.js";import{C as Pt}from"./circle-check-CoPv5K_q.js";import{C as wr}from"./circle-alert-DT7ufwao.js";const kr=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jr=he("book-open",kr);const Nr=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Cr=he("camera",Nr);const Tr=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Sr=he("cloud-upload",Tr);const Ar=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],kt=he("file-check",Ar);const Or=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Rr=he("refresh-ccw",Or);const Ir=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Er=he("zap",Ir);var Zr=Object.create,Mt=Object.defineProperty,Pr=Object.getOwnPropertyDescriptor,$t=Object.getOwnPropertyNames,Mr=Object.getPrototypeOf,$r=Object.prototype.hasOwnProperty,mt=(t,e)=>function(){return e||(0,t[$t(t)[0]])((e={exports:{}}).exports,e),e.exports},zr=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of $t(e))!$r.call(t,a)&&a!==r&&Mt(t,a,{get:()=>e[a],enumerable:!(s=Pr(e,a))||s.enumerable});return t},Ke=(t,e,r)=>(r=t!=null?Zr(Mr(t)):{},zr(!t||!t.__esModule?Mt(r,"default",{value:t,enumerable:!0}):r,t)),Dr=mt({"../../node_modules/.pnpm/iota-array@1.0.0/node_modules/iota-array/iota.js"(t,e){function r(s){for(var a=new Array(s),n=0;n<s;++n)a[n]=n;return a}e.exports=r}}),Ur=mt({"../../node_modules/.pnpm/is-buffer@1.1.6/node_modules/is-buffer/index.js"(t,e){e.exports=function(a){return a!=null&&(r(a)||s(a)||!!a._isBuffer)};function r(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function s(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&r(a.slice(0,0))}}}),Xe=mt({"../../node_modules/.pnpm/ndarray@1.0.19/node_modules/ndarray/ndarray.js"(t,e){var r=Dr(),s=Ur(),a=typeof Float64Array<"u";function n(v,g){return v[0]-g[0]}function i(){var v=this.stride,g=new Array(v.length),m;for(m=0;m<g.length;++m)g[m]=[Math.abs(v[m]),m];g.sort(n);var A=new Array(g.length);for(m=0;m<A.length;++m)A[m]=g[m][1];return A}function o(v,g){var m=["View",g,"d",v].join("");g<0&&(m="View_Nil"+v);var A=v==="generic";if(g===-1){var x="function "+m+"(a){this.data=a;};var proto="+m+".prototype;proto.dtype='"+v+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+m+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+m+"(a){return new "+m+"(a);}",S=new Function(x);return S()}else if(g===0){var x="function "+m+"(a,d) {this.data = a;this.offset = d};var proto="+m+".prototype;proto.dtype='"+v+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+m+"_copy() {return new "+m+"(this.data,this.offset)};proto.pick=function "+m+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+m+"_get(){return "+(A?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+m+"_set(v){return "+(A?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+m+"(a,b,c,d){return new "+m+"(a,d)}",S=new Function("TrivialArray",x);return S(c[v][0])}var x=["'use strict'"],C=r(g),O=C.map(function(_){return"i"+_}),E="this.offset+"+C.map(function(_){return"this.stride["+_+"]*i"+_}).join("+"),P=C.map(function(_){return"b"+_}).join(","),R=C.map(function(_){return"c"+_}).join(",");x.push("function "+m+"(a,"+P+","+R+",d){this.data=a","this.shape=["+P+"]","this.stride=["+R+"]","this.offset=d|0}","var proto="+m+".prototype","proto.dtype='"+v+"'","proto.dimension="+g),x.push("Object.defineProperty(proto,'size',{get:function "+m+"_size(){return "+C.map(function(_){return"this.shape["+_+"]"}).join("*"),"}})"),g===1?x.push("proto.order=[0]"):(x.push("Object.defineProperty(proto,'order',{get:"),g<4?(x.push("function "+m+"_order(){"),g===2?x.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):g===3&&x.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):x.push("ORDER})")),x.push("proto.set=function "+m+"_set("+O.join(",")+",v){"),A?x.push("return this.data.set("+E+",v)}"):x.push("return this.data["+E+"]=v}"),x.push("proto.get=function "+m+"_get("+O.join(",")+"){"),A?x.push("return this.data.get("+E+")}"):x.push("return this.data["+E+"]}"),x.push("proto.index=function "+m+"_index(",O.join(),"){return "+E+"}"),x.push("proto.hi=function "+m+"_hi("+O.join(",")+"){return new "+m+"(this.data,"+C.map(function(_){return["(typeof i",_,"!=='number'||i",_,"<0)?this.shape[",_,"]:i",_,"|0"].join("")}).join(",")+","+C.map(function(_){return"this.stride["+_+"]"}).join(",")+",this.offset)}");var ge=C.map(function(_){return"a"+_+"=this.shape["+_+"]"}),se=C.map(function(_){return"c"+_+"=this.stride["+_+"]"});x.push("proto.lo=function "+m+"_lo("+O.join(",")+"){var b=this.offset,d=0,"+ge.join(",")+","+se.join(","));for(var j=0;j<g;++j)x.push("if(typeof i"+j+"==='number'&&i"+j+">=0){d=i"+j+"|0;b+=c"+j+"*d;a"+j+"-=d}");x.push("return new "+m+"(this.data,"+C.map(function(_){return"a"+_}).join(",")+","+C.map(function(_){return"c"+_}).join(",")+",b)}"),x.push("proto.step=function "+m+"_step("+O.join(",")+"){var "+C.map(function(_){return"a"+_+"=this.shape["+_+"]"}).join(",")+","+C.map(function(_){return"b"+_+"=this.stride["+_+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var j=0;j<g;++j)x.push("if(typeof i"+j+"==='number'){d=i"+j+"|0;if(d<0){c+=b"+j+"*(a"+j+"-1);a"+j+"=ceil(-a"+j+"/d)}else{a"+j+"=ceil(a"+j+"/d)}b"+j+"*=d}");x.push("return new "+m+"(this.data,"+C.map(function(_){return"a"+_}).join(",")+","+C.map(function(_){return"b"+_}).join(",")+",c)}");for(var Q=new Array(g),ne=new Array(g),j=0;j<g;++j)Q[j]="a[i"+j+"]",ne[j]="b[i"+j+"]";x.push("proto.transpose=function "+m+"_transpose("+O+"){"+O.map(function(_,Z){return _+"=("+_+"===undefined?"+Z+":"+_+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+m+"(this.data,"+Q.join(",")+","+ne.join(",")+",this.offset)}"),x.push("proto.pick=function "+m+"_pick("+O+"){var a=[],b=[],c=this.offset");for(var j=0;j<g;++j)x.push("if(typeof i"+j+"==='number'&&i"+j+">=0){c=(c+this.stride["+j+"]*i"+j+")|0}else{a.push(this.shape["+j+"]);b.push(this.stride["+j+"])}");x.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),x.push("return function construct_"+m+"(data,shape,stride,offset){return new "+m+"(data,"+C.map(function(_){return"shape["+_+"]"}).join(",")+","+C.map(function(_){return"stride["+_+"]"}).join(",")+",offset)}");var S=new Function("CTOR_LIST","ORDER",x.join(`
`));return S(c[v],i)}function d(v){if(s(v))return"buffer";if(a)switch(Object.prototype.toString.call(v)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(v)?"array":"generic"}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function p(v,g,m,A){if(v===void 0){var R=c.array[0];return R([])}else typeof v=="number"&&(v=[v]);g===void 0&&(g=[v.length]);var x=g.length;if(m===void 0){m=new Array(x);for(var C=x-1,O=1;C>=0;--C)m[C]=O,O*=g[C]}if(A===void 0){A=0;for(var C=0;C<x;++C)m[C]<0&&(A-=(g[C]-1)*m[C])}for(var E=d(v),P=c[E];P.length<=x+1;)P.push(o(E,P.length-1));var R=P[x+1];return R(v,g,m,A)}e.exports=p}}),Lr=typeof global=="object"&&global&&global.Object===Object&&global,Fr=Lr,Vr=typeof self=="object"&&self&&self.Object===Object&&self,Br=Fr||Vr||Function("return this")(),vt=Br,Wr=vt.Symbol,Fe=Wr,zt=Object.prototype,qr=zt.hasOwnProperty,Gr=zt.toString,ye=Fe?Fe.toStringTag:void 0;function Hr(t){var e=qr.call(t,ye),r=t[ye];try{t[ye]=void 0;var s=!0}catch{}var a=Gr.call(t);return s&&(e?t[ye]=r:delete t[ye]),a}var Jr=Hr,Yr=Object.prototype,Kr=Yr.toString;function Xr(t){return Kr.call(t)}var Qr=Xr,ea="[object Null]",ta="[object Undefined]",jt=Fe?Fe.toStringTag:void 0;function ra(t){return t==null?t===void 0?ta:ea:jt&&jt in Object(t)?Jr(t):Qr(t)}var aa=ra;function sa(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Dt=sa,na="[object AsyncFunction]",ia="[object Function]",oa="[object GeneratorFunction]",ca="[object Proxy]";function da(t){if(!Dt(t))return!1;var e=aa(t);return e==ia||e==oa||e==na||e==ca}var la=da,ua=vt["__core-js_shared__"],rt=ua,Nt=(function(){var t=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function fa(t){return!!Nt&&Nt in t}var ha=fa,pa=Function.prototype,ma=pa.toString;function va(t){if(t!=null){try{return ma.call(t)}catch{}try{return t+""}catch{}}return""}var ga=va,ya=/[\\^$.*+?()[\]{}|]/g,_a=/^\[object .+?Constructor\]$/,ba=Function.prototype,xa=Object.prototype,wa=ba.toString,ka=xa.hasOwnProperty,ja=RegExp("^"+wa.call(ka).replace(ya,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Na(t){if(!Dt(t)||ha(t))return!1;var e=la(t)?ja:_a;return e.test(ga(t))}var Ca=Na;function Ta(t,e){return t?.[e]}var Sa=Ta;function Aa(t,e){var r=Sa(t,e);return Ca(r)?r:void 0}var Ut=Aa,Oa=Ut(Object,"create"),ke=Oa;function Ra(){this.__data__=ke?ke(null):{},this.size=0}var Ia=Ra;function Ea(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Za=Ea,Pa="__lodash_hash_undefined__",Ma=Object.prototype,$a=Ma.hasOwnProperty;function za(t){var e=this.__data__;if(ke){var r=e[t];return r===Pa?void 0:r}return $a.call(e,t)?e[t]:void 0}var Da=za,Ua=Object.prototype,La=Ua.hasOwnProperty;function Fa(t){var e=this.__data__;return ke?e[t]!==void 0:La.call(e,t)}var Va=Fa,Ba="__lodash_hash_undefined__";function Wa(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ke&&e===void 0?Ba:e,this}var qa=Wa;function pe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}pe.prototype.clear=Ia;pe.prototype.delete=Za;pe.prototype.get=Da;pe.prototype.has=Va;pe.prototype.set=qa;var Ct=pe;function Ga(){this.__data__=[],this.size=0}var Ha=Ga;function Ja(t,e){return t===e||t!==t&&e!==e}var Ya=Ja;function Ka(t,e){for(var r=t.length;r--;)if(Ya(t[r][0],e))return r;return-1}var Qe=Ka,Xa=Array.prototype,Qa=Xa.splice;function es(t){var e=this.__data__,r=Qe(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():Qa.call(e,r,1),--this.size,!0}var ts=es;function rs(t){var e=this.__data__,r=Qe(e,t);return r<0?void 0:e[r][1]}var as=rs;function ss(t){return Qe(this.__data__,t)>-1}var ns=ss;function is(t,e){var r=this.__data__,s=Qe(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this}var os=is;function me(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}me.prototype.clear=Ha;me.prototype.delete=ts;me.prototype.get=as;me.prototype.has=ns;me.prototype.set=os;var cs=me,ds=Ut(vt,"Map"),ls=ds;function us(){this.size=0,this.__data__={hash:new Ct,map:new(ls||cs),string:new Ct}}var fs=us;function hs(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ps=hs;function ms(t,e){var r=t.__data__;return ps(e)?r[typeof e=="string"?"string":"hash"]:r.map}var et=ms;function vs(t){var e=et(this,t).delete(t);return this.size-=e?1:0,e}var gs=vs;function ys(t){return et(this,t).get(t)}var _s=ys;function bs(t){return et(this,t).has(t)}var xs=bs;function ws(t,e){var r=et(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this}var ks=ws;function ve(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}ve.prototype.clear=fs;ve.prototype.delete=gs;ve.prototype.get=_s;ve.prototype.has=xs;ve.prototype.set=ks;var Lt=ve,js="Expected a function";function gt(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(js);var r=function(){var s=arguments,a=e?e.apply(this,s):s[0],n=r.cache;if(n.has(a))return n.get(a);var i=t.apply(this,s);return r.cache=n.set(a,i)||n,i};return r.cache=new(gt.Cache||Lt),r}gt.Cache=Lt;var Ns=gt,yt=Ke(Xe()),Ft=class nt{constructor(e,r){this.type="application/octet-stream",this.params={},this.type=e,this.params=r}toString(){const e=[];for(const r in this.params){const s=this.params[r];e.push(`${r}=${s}`)}return[this.type,...e].join(";")}static create(e,r){return new nt(e,r)}isIdentical(e){return this.type===e.type&&this.params===e.params}isEqual(e){return this.type===e.type}static fromString(e){const[r,...s]=e.split(";"),a={};for(const n of s){const[i,o]=n.split("=");a[i.trim()]=o.trim()}return new nt(r,a)}},at=Ke(Xe());async function Cs(t){const e=Ft.fromString(t.type);switch(e.type){case"image/x-alpha8":{const r=parseInt(e.params.width),s=parseInt(e.params.height);return(0,at.default)(new Uint8Array(await t.arrayBuffer()),[s,r,1])}case"image/x-rgba8":{const r=parseInt(e.params.width),s=parseInt(e.params.height);return(0,at.default)(new Uint8Array(await t.arrayBuffer()),[s,r,4])}case"application/octet-stream":case"image/png":case"image/jpeg":case"image/jpg":case"image/webp":{const r=await createImageBitmap(t),s=Os(r);return(0,at.default)(new Uint8Array(s.data),[s.height,s.width,4])}default:throw new Error(`Invalid format: ${e.type} with params: ${e.params}`)}}async function Ts(t,e=.8,r="image/png"){const[s,a,n]=t.shape;switch(r){case"image/x-alpha8":case"image/x-rgba8":{const d=Ft.create(r,{width:a.toString(),height:s.toString()});return new Blob([t.data],{type:d.toString()})}case"image/png":case"image/jpeg":case"image/webp":{const d=new ImageData(new Uint8ClampedArray(t.data),a,s);var i=Vt(d.width,d.height),o=i.getContext("2d");return o.putImageData(d,0,0),i.convertToBlob({quality:e,type:r})}default:throw new Error(`Invalid format: ${r}`)}}function Ss(t){return new RegExp("^(?:[a-z+]+:)?//","i").test(t)}function As(t,e){return Ss(t)?t:new URL(t,e).href}function Os(t){var e=Vt(t.width,t.height),r=e.getContext("2d");return r.drawImage(t,0,0),r.getImageData(0,0,e.width,e.height)}function Rs(t){if(typeof Uint8Array<"u")return new Uint8Array(t);if(typeof Uint8ClampedArray<"u")return new Uint8ClampedArray(t);if(typeof Uint16Array<"u")return new Uint16Array(t);if(typeof Uint32Array<"u")return new Uint32Array(t);if(typeof Float32Array<"u")return new Float32Array(t);if(typeof Float64Array<"u")return new Float64Array(t);throw new Error("TypedArray not supported")}function Tt(t,e,r,s=!1){const[a,n,i]=t.shape;let o=n/e,d=a/r;s&&(o=d=Math.max(o,d)>1?Math.max(o,d):Math.min(o,d));const c=(0,yt.default)(Rs(i*e*r),[r,e,i]);for(let p=0;p<r;p++)for(let v=0;v<e;v++){const g=v*o,m=p*d,A=Math.max(Math.floor(g),0),x=Math.min(Math.ceil(g),n-1),C=Math.max(Math.floor(m),0),O=Math.min(Math.ceil(m),a-1),E=g-A,P=m-C;for(let R=0;R<i;R++){const ge=t.get(C,A,R),se=t.get(C,x,R),j=t.get(O,A,R),Q=t.get(O,x,R),ne=(1-E)*(1-P)*ge+E*(1-P)*se+(1-E)*P*j+E*P*Q;c.set(p,v,R,ne)}}return c}function Is(t,e=[128,128,128],r=[256,256,256]){var s=t.data;const[a,n,i]=t.shape,o=a*n,d=new Float32Array(3*o);for(let c=0,p=0;c<s.length;c+=4,p+=1)d[p]=(s[c]-e[0])/r[0],d[p+o]=(s[c+1]-e[1])/r[1],d[p+o+o]=(s[c+2]-e[2])/r[2];return(0,yt.default)(d,[1,3,a,n])}async function Es(t,e){return typeof t=="string"&&(t=As(t,e.publicPath),t=new URL(t)),t instanceof URL&&(t=await(await fetch(t,{})).blob()),(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t=new Blob([t])),t instanceof Blob&&(t=await Cs(t)),t}function Zs(t){const e=new Uint8Array(t.data.length);for(let r=0;r<t.data.length;r++)e[r]=t.data[r]*255;return(0,yt.default)(e,t.shape)}function Vt(t,e){let r;if(typeof OffscreenCanvas<"u"?r=new OffscreenCanvas(t,e):r=document.createElement("canvas"),!r)throw new Error("Canvas nor OffscreenCanvas are available in the current context.");return r}var Ps=Ke(Xe()),Bt=async()=>navigator.gpu===void 0?!1:await navigator.gpu.requestAdapter()!==null,Ms=()=>navigator.hardwareConcurrency??4;async function St(t,e){return URL.createObjectURL(await Wt(t,e))}async function Wt(t,e){const r=new URL("resources.json",e.publicPath),s=await fetch(r);if(!s.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");const n=(await s.json())[t];if(!n)throw new Error(`Resource ${t} not found. Ensure that the config.publicPath is configured correctly.`);const i=n.chunks;let o=0;const d=i.map(async v=>{const g=v.offsets[1]-v.offsets[0],m=e.publicPath?new URL(v.name,e.publicPath).toString():v.name,x=await(await fetch(m,e.fetchArgs)).blob();if(g!==x.size)throw new Error(`Failed to fetch ${t} with size ${g} but got ${x.size}`);return e.progress&&(o+=g,e.progress(`fetch:${t}`,o,n.size)),x}),c=await Promise.all(d),p=new Blob(c,{type:n.mime});if(p.size!==n.size)throw new Error(`Failed to fetch ${t} with size ${n.size} but got ${p.size}`);return p}var _e=null,qt=async t=>(_e!==null||(t?_e=(await wt(async()=>{const{default:e}=await import("./ort.webgpu.bundle.min-tUYEXOOI.js");return{default:e}},[])).default:_e=(await wt(async()=>{const{default:e}=await import("./ort.bundle.min-BV7VIkvy.js");return{default:e}},[])).default),_e);async function $s(t,e){const r=e.device==="gpu"&&await Bt(),s=r&&e.proxyToWorker,a=[r?"webgpu":"wasm"],n=await qt(r);e.debug&&(console.debug("	Using WebGPU:",r),console.debug("	Proxy to Worker:",s),n.env.debug=!0,n.env.logLevel="verbose"),n.env.wasm.numThreads=Ms(),n.env.wasm.proxy=s;const i=r?"/onnxruntime-web/ort-wasm-simd-threaded.jsep":"/onnxruntime-web/ort-wasm-simd-threaded",o=await St(`${i}.wasm`,e),d=await St(`${i}.mjs`,e);n.env.wasm.wasmPaths={mjs:d,wasm:o},e.debug&&console.debug("ort.env.wasm:",n.env.wasm);const c={executionProviders:a,graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await n.InferenceSession.create(t,c).catch(v=>{throw new Error(`Failed to create session: "${v}". Please check if the publicPath is set correctly.`)})}async function zs(t,e,r,s){const a=s.device==="gpu"&&await Bt(),n=await qt(a),i={};for(const[c,p]of e)i[c]=new n.Tensor("float32",new Float32Array(p.data),p.shape);const o=await t.run(i,{}),d=[];for(const c of r){const p=o[c],v=p.dims,g=p.data,m=(0,Ps.default)(g,v);d.push(m)}return d}var T;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const n={};for(const i of a)n[i]=i;return n},t.getValidEnumValues=a=>{const n=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of n)i[o]=a[o];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(n){return a[n]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const n=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.push(i);return n},t.find=(a,n)=>{for(const i of a)if(n(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,n=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}t.joinValues=s,t.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(T||(T={}));var it;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(it||(it={}));var h=T.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),G=t=>{switch(typeof t){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(t)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":return Array.isArray(t)?h.array:t===null?h.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?h.promise:typeof Map<"u"&&t instanceof Map?h.map:typeof Set<"u"&&t instanceof Set?h.set:typeof Date<"u"&&t instanceof Date?h.date:h.object;default:return h.unknown}},l=T.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ds=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),L=class Gt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(n){return n.message},s={_errors:[]},a=n=>{for(const i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)s._errors.push(r(i));else{let o=s,d=0;for(;d<i.path.length;){const c=i.path[d];d===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(i))):o[c]=o[c]||{_errors:[]},o=o[c],d++}}};return a(this),s}static assert(e){if(!(e instanceof Gt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,T.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};L.create=t=>new L(t);var de=(t,e)=>{let r;switch(t.code){case l.invalid_type:t.received===h.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case l.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,T.jsonStringifyReplacer)}`;break;case l.unrecognized_keys:r=`Unrecognized key(s) in object: ${T.joinValues(t.keys,", ")}`;break;case l.invalid_union:r="Invalid input";break;case l.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${T.joinValues(t.options)}`;break;case l.invalid_enum_value:r=`Invalid enum value. Expected ${T.joinValues(t.options)}, received '${t.received}'`;break;case l.invalid_arguments:r="Invalid function arguments";break;case l.invalid_return_type:r="Invalid function return type";break;case l.invalid_date:r="Invalid date";break;case l.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:T.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case l.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case l.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case l.custom:r="Invalid input";break;case l.invalid_intersection_types:r="Intersection results could not be merged";break;case l.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case l.not_finite:r="Number must be finite";break;default:r=e.defaultError,T.assertNever(t)}return{message:r}},Ht=de;function Us(t){Ht=t}function Ve(){return Ht}var Be=t=>{const{data:e,path:r,errorMaps:s,issueData:a}=t,n=[...r,...a.path||[]],i={...a,path:n};if(a.message!==void 0)return{...a,path:n,message:a.message};let o="";const d=s.filter(c=>!!c).slice().reverse();for(const c of d)o=c(i,{data:e,defaultError:o}).message;return{...a,path:n,message:o}},Ls=[];function f(t,e){const r=Ve(),s=Be({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===de?void 0:de].filter(a=>!!a)});t.common.issues.push(s)}var $=class Jt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const a of r){if(a.status==="aborted")return w;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const a of r){const n=await a.key,i=await a.value;s.push({key:n,value:i})}return Jt.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const a of r){const{key:n,value:i}=a;if(n.status==="aborted"||i.status==="aborted")return w;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(s[n.value]=i.value)}return{status:e.value,value:s}}},w=Object.freeze({status:"aborted"}),ce=t=>({status:"dirty",value:t}),M=t=>({status:"valid",value:t}),ot=t=>t.status==="aborted",ct=t=>t.status==="dirty",re=t=>t.status==="valid",je=t=>typeof Promise<"u"&&t instanceof Promise;function We(t,e,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Yt(t,e,r,s,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var y;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(y||(y={}));var be,xe,B=class{constructor(t,e,r,s){this._cachedPath=[],this.parent=t,this.data=e,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},At=(t,e)=>{if(re(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new L(t.common.issues);return this._error=r,this._error}}};function k(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,o)=>{var d,c;const{message:p}=t;return i.code==="invalid_enum_value"?{message:p??o.defaultError}:typeof o.data>"u"?{message:(d=p??s)!==null&&d!==void 0?d:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(c=p??r)!==null&&c!==void 0?c:o.defaultError}},description:a}}var N=class{get description(){return this._def.description}_getType(t){return G(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:G(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $,ctx:{common:t.parent.common,data:t.data,parsedType:G(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(je(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const r=this.safeParse(t,e);if(r.success)return r.data;throw r.error}safeParse(t,e){var r;const s={common:{issues:[],async:(r=e?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:G(t)},a=this._parseSync({data:t,path:s.path,parent:s});return At(s,a)}"~validate"(t){var e,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:G(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return re(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(e=a?.message)===null||e===void 0?void 0:e.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>re(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,e){const r=await this.safeParseAsync(t,e);if(r.success)return r.data;throw r.error}async safeParseAsync(t,e){const r={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:G(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(je(s)?s:Promise.resolve(s));return At(r,a)}refine(t,e){const r=s=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,a)=>{const n=t(s),i=()=>a.addIssue({code:l.custom,...r(s)});return typeof Promise<"u"&&n instanceof Promise?n.then(o=>o?!0:(i(),!1)):n?!0:(i(),!1)})}refinement(t,e){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof e=="function"?e(r,s):e),!1))}_refinement(t){return new F({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return V.create(this,this._def)}nullable(){return X.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ae.create(this)}promise(){return fe.create(this,this._def)}or(t){return Re.create([this,t],this._def)}and(t){return Ie.create(this,t,this._def)}transform(t){return new F({...k(this._def),schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new Me({...k(this._def),innerType:this,defaultValue:e,typeName:b.ZodDefault})}brand(){return new _t({typeName:b.ZodBranded,type:this,...k(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new $e({...k(this._def),innerType:this,catchValue:e,typeName:b.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return bt.create(this,t)}readonly(){return ze.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Fs=/^c[^\s-]{8,}$/i,Vs=/^[0-9a-z]+$/,Bs=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ws=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qs=/^[a-z0-9_-]{21}$/i,Gs=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Hs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Js=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ys="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",st,Ks=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Xs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Qs=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,en=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rn=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Kt="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",an=new RegExp(`^${Kt}$`);function Xt(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function sn(t){return new RegExp(`^${Xt(t)}$`)}function Qt(t){let e=`${Kt}T${Xt(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function nn(t,e){return!!((e==="v4"||!e)&&Ks.test(t)||(e==="v6"||!e)&&Qs.test(t))}function on(t,e){if(!Gs.test(t))return!1;try{const[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function cn(t,e){return!!((e==="v4"||!e)&&Xs.test(t)||(e==="v6"||!e)&&en.test(t))}var le=class we extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){const n=this._getOrReturnCtx(e);return f(n,{code:l.invalid_type,expected:h.string,received:n.parsedType}),w}const s=new $;let a;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:l.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="max")e.data.length>n.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:l.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="length"){const i=e.data.length>n.value,o=e.data.length<n.value;(i||o)&&(a=this._getOrReturnCtx(e,a),i?f(a,{code:l.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&f(a,{code:l.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),s.dirty())}else if(n.kind==="email")Js.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"email",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="emoji")st||(st=new RegExp(Ys,"u")),st.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"emoji",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="uuid")Ws.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"uuid",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="nanoid")qs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"nanoid",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid")Fs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"cuid",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid2")Vs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"cuid2",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="ulid")Bs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"ulid",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),f(a,{validation:"url",code:l.invalid_string,message:n.message}),s.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"regex",code:l.invalid_string,message:n.message}),s.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),s.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:{startsWith:n.value},message:n.message}),s.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:{endsWith:n.value},message:n.message}),s.dirty()):n.kind==="datetime"?Qt(n).test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:"datetime",message:n.message}),s.dirty()):n.kind==="date"?an.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:"date",message:n.message}),s.dirty()):n.kind==="time"?sn(n).test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:"time",message:n.message}),s.dirty()):n.kind==="duration"?Hs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"duration",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="ip"?nn(e.data,n.version)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"ip",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="jwt"?on(e.data,n.alg)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"jwt",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="cidr"?cn(e.data,n.version)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"cidr",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="base64"?tn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"base64",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="base64url"?rn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"base64url",code:l.invalid_string,message:n.message}),s.dirty()):T.assertNever(n);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:l.invalid_string,...y.errToObj(s)})}_addCheck(e){return new we({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...y.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...y.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...y.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...y.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...y.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...y.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...y.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...y.errToObj(r)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new we({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new we({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new we({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};le.create=t=>{var e;return new le({checks:[],typeName:b.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};function dn(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,n=parseInt(t.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return n%i/Math.pow(10,a)}var Ne=class dt extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){const n=this._getOrReturnCtx(e);return f(n,{code:l.invalid_type,expected:h.number,received:n.parsedType}),w}let s;const a=new $;for(const n of this._def.checks)n.kind==="int"?T.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:l.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?dn(e.data,n.value)!==0&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:l.not_finite,message:n.message}),a.dirty()):T.assertNever(n);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,y.toString(r))}gt(e,r){return this.setLimit("min",e,!1,y.toString(r))}lte(e,r){return this.setLimit("max",e,!0,y.toString(r))}lt(e,r){return this.setLimit("max",e,!1,y.toString(r))}setLimit(e,r,s,a){return new dt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:y.toString(a)}]})}_addCheck(e){return new dt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&T.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ne.create=t=>new Ne({checks:[],typeName:b.ZodNumber,coerce:t?.coerce||!1,...k(t)});var Ce=class lt extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==h.bigint)return this._getInvalidInput(e);let s;const a=new $;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):T.assertNever(n);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return f(r,{code:l.invalid_type,expected:h.bigint,received:r.parsedType}),w}gte(e,r){return this.setLimit("min",e,!0,y.toString(r))}gt(e,r){return this.setLimit("min",e,!1,y.toString(r))}lte(e,r){return this.setLimit("max",e,!0,y.toString(r))}lt(e,r){return this.setLimit("max",e,!1,y.toString(r))}setLimit(e,r,s,a){return new lt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:y.toString(a)}]})}_addCheck(e){return new lt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ce.create=t=>{var e;return new Ce({checks:[],typeName:b.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};var Te=class extends N{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==h.boolean){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.boolean,received:r.parsedType}),w}return M(t.data)}};Te.create=t=>new Te({typeName:b.ZodBoolean,coerce:t?.coerce||!1,...k(t)});var Se=class er extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){const n=this._getOrReturnCtx(e);return f(n,{code:l.invalid_type,expected:h.date,received:n.parsedType}),w}if(isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return f(n,{code:l.invalid_date}),w}const s=new $;let a;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:l.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),s.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:l.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),s.dirty()):T.assertNever(n);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Se.create=t=>new Se({checks:[],coerce:t?.coerce||!1,typeName:b.ZodDate,...k(t)});var qe=class extends N{_parse(t){if(this._getType(t)!==h.symbol){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.symbol,received:r.parsedType}),w}return M(t.data)}};qe.create=t=>new qe({typeName:b.ZodSymbol,...k(t)});var Ae=class extends N{_parse(t){if(this._getType(t)!==h.undefined){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.undefined,received:r.parsedType}),w}return M(t.data)}};Ae.create=t=>new Ae({typeName:b.ZodUndefined,...k(t)});var Oe=class extends N{_parse(t){if(this._getType(t)!==h.null){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.null,received:r.parsedType}),w}return M(t.data)}};Oe.create=t=>new Oe({typeName:b.ZodNull,...k(t)});var ue=class extends N{constructor(){super(...arguments),this._any=!0}_parse(t){return M(t.data)}};ue.create=t=>new ue({typeName:b.ZodAny,...k(t)});var te=class extends N{constructor(){super(...arguments),this._unknown=!0}_parse(t){return M(t.data)}};te.create=t=>new te({typeName:b.ZodUnknown,...k(t)});var H=class extends N{_parse(t){const e=this._getOrReturnCtx(t);return f(e,{code:l.invalid_type,expected:h.never,received:e.parsedType}),w}};H.create=t=>new H({typeName:b.ZodNever,...k(t)});var Ge=class extends N{_parse(t){if(this._getType(t)!==h.undefined){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.void,received:r.parsedType}),w}return M(t.data)}};Ge.create=t=>new Ge({typeName:b.ZodVoid,...k(t)});var ae=class Ue extends N{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==h.array)return f(r,{code:l.invalid_type,expected:h.array,received:r.parsedType}),w;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(i||o)&&(f(r,{code:i?l.too_big:l.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(f(r,{code:l.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(f(r,{code:l.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>a.type._parseAsync(new B(r,i,r.path,o)))).then(i=>$.mergeArray(s,i));const n=[...r.data].map((i,o)=>a.type._parseSync(new B(r,i,r.path,o)));return $.mergeArray(s,n)}get element(){return this._def.type}min(e,r){return new Ue({...this._def,minLength:{value:e,message:y.toString(r)}})}max(e,r){return new Ue({...this._def,maxLength:{value:e,message:y.toString(r)}})}length(e,r){return new Ue({...this._def,exactLength:{value:e,message:y.toString(r)}})}nonempty(e){return this.min(1,e)}};ae.create=(t,e)=>new ae({type:t,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray,...k(e)});function oe(t){if(t instanceof D){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=V.create(oe(s))}return new D({...t._def,shape:()=>e})}else return t instanceof ae?new ae({...t._def,type:oe(t.element)}):t instanceof V?V.create(oe(t.unwrap())):t instanceof X?X.create(oe(t.unwrap())):t instanceof K?K.create(t.items.map(e=>oe(e))):t}var D=class U extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=T.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==h.object){const c=this._getOrReturnCtx(e);return f(c,{code:l.invalid_type,expected:h.object,received:c.parsedType}),w}const{status:s,ctx:a}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof H&&this._def.unknownKeys==="strip"))for(const c in a.data)i.includes(c)||o.push(c);const d=[];for(const c of i){const p=n[c],v=a.data[c];d.push({key:{status:"valid",value:c},value:p._parse(new B(a,v,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof H){const c=this._def.unknownKeys;if(c==="passthrough")for(const p of o)d.push({key:{status:"valid",value:p},value:{status:"valid",value:a.data[p]}});else if(c==="strict")o.length>0&&(f(a,{code:l.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const p of o){const v=a.data[p];d.push({key:{status:"valid",value:p},value:c._parse(new B(a,v,a.path,p)),alwaysSet:p in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const p of d){const v=await p.key,g=await p.value;c.push({key:v,value:g,alwaysSet:p.alwaysSet})}return c}).then(c=>$.mergeObjectSync(s,c)):$.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new U({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var a,n,i,o;const d=(i=(n=(a=this._def).errorMap)===null||n===void 0?void 0:n.call(a,r,s).message)!==null&&i!==void 0?i:s.defaultError;return r.code==="unrecognized_keys"?{message:(o=y.errToObj(e).message)!==null&&o!==void 0?o:d}:{message:d}}}:{}})}strip(){return new U({...this._def,unknownKeys:"strip"})}passthrough(){return new U({...this._def,unknownKeys:"passthrough"})}extend(e){return new U({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new U({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:b.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new U({...this._def,catchall:e})}pick(e){const r={};return T.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new U({...this._def,shape:()=>r})}omit(e){const r={};return T.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new U({...this._def,shape:()=>r})}deepPartial(){return oe(this)}partial(e){const r={};return T.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}),new U({...this._def,shape:()=>r})}required(e){const r={};return T.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let n=this.shape[s];for(;n instanceof V;)n=n._def.innerType;r[s]=n}}),new U({...this._def,shape:()=>r})}keyof(){return ir(T.objectKeys(this.shape))}};D.create=(t,e)=>new D({shape:()=>t,unknownKeys:"strip",catchall:H.create(),typeName:b.ZodObject,...k(e)});D.strictCreate=(t,e)=>new D({shape:()=>t,unknownKeys:"strict",catchall:H.create(),typeName:b.ZodObject,...k(e)});D.lazycreate=(t,e)=>new D({shape:t,unknownKeys:"strip",catchall:H.create(),typeName:b.ZodObject,...k(e)});var Re=class extends N{_parse(t){const{ctx:e}=this._processInputParams(t),r=this._def.options;function s(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return e.common.issues.push(...i.ctx.common.issues),i.result;const n=a.map(i=>new L(i.ctx.common.issues));return f(e,{code:l.invalid_union,unionErrors:n}),w}if(e.common.async)return Promise.all(r.map(async a=>{const n={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:n}),ctx:n}})).then(s);{let a;const n=[];for(const o of r){const d={...e,common:{...e.common,issues:[]},parent:null},c=o._parseSync({data:e.data,path:e.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:d}),d.common.issues.length&&n.push(d.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;const i=n.map(o=>new L(o));return f(e,{code:l.invalid_union,unionErrors:i}),w}}get options(){return this._def.options}};Re.create=(t,e)=>new Re({options:t,typeName:b.ZodUnion,...k(e)});var q=t=>t instanceof Ee?q(t.schema):t instanceof F?q(t.innerType()):t instanceof Ze?[t.value]:t instanceof De?t.options:t instanceof Pe?T.objectValues(t.enum):t instanceof Me?q(t._def.innerType):t instanceof Ae?[void 0]:t instanceof Oe?[null]:t instanceof V?[void 0,...q(t.unwrap())]:t instanceof X?[null,...q(t.unwrap())]:t instanceof _t||t instanceof ze?q(t.unwrap()):t instanceof $e?q(t._def.innerType):[],tr=class rr extends N{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==h.object)return f(r,{code:l.invalid_type,expected:h.object,received:r.parsedType}),w;const s=this.discriminator,a=r.data[s],n=this.optionsMap.get(a);return n?r.common.async?n._parseAsync({data:r.data,path:r.path,parent:r}):n._parseSync({data:r.data,path:r.path,parent:r}):(f(r,{code:l.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),w)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const a=new Map;for(const n of r){const i=q(n.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,n)}}return new rr({typeName:b.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...k(s)})}};function ut(t,e){const r=G(t),s=G(e);if(t===e)return{valid:!0,data:t};if(r===h.object&&s===h.object){const a=T.objectKeys(e),n=T.objectKeys(t).filter(o=>a.indexOf(o)!==-1),i={...t,...e};for(const o of n){const d=ut(t[o],e[o]);if(!d.valid)return{valid:!1};i[o]=d.data}return{valid:!0,data:i}}else if(r===h.array&&s===h.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let n=0;n<t.length;n++){const i=t[n],o=e[n],d=ut(i,o);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return r===h.date&&s===h.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Ie=class extends N{_parse(t){const{status:e,ctx:r}=this._processInputParams(t),s=(a,n)=>{if(ot(a)||ot(n))return w;const i=ut(a.value,n.value);return i.valid?((ct(a)||ct(n))&&e.dirty(),{status:e.value,value:i.data}):(f(r,{code:l.invalid_intersection_types}),w)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,n])=>s(a,n)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Ie.create=(t,e,r)=>new Ie({left:t,right:e,typeName:b.ZodIntersection,...k(r)});var K=class ar extends N{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==h.array)return f(s,{code:l.invalid_type,expected:h.array,received:s.parsedType}),w;if(s.data.length<this._def.items.length)return f(s,{code:l.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w;!this._def.rest&&s.data.length>this._def.items.length&&(f(s,{code:l.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const n=[...s.data].map((i,o)=>{const d=this._def.items[o]||this._def.rest;return d?d._parse(new B(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(n).then(i=>$.mergeArray(r,i)):$.mergeArray(r,n)}get items(){return this._def.items}rest(e){return new ar({...this._def,rest:e})}};K.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new K({items:t,typeName:b.ZodTuple,rest:null,...k(e)})};var sr=class ft extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==h.object)return f(s,{code:l.invalid_type,expected:h.object,received:s.parsedType}),w;const a=[],n=this._def.keyType,i=this._def.valueType;for(const o in s.data)a.push({key:n._parse(new B(s,o,s.path,o)),value:i._parse(new B(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?$.mergeObjectAsync(r,a):$.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof N?new ft({keyType:e,valueType:r,typeName:b.ZodRecord,...k(s)}):new ft({keyType:le.create(),valueType:e,typeName:b.ZodRecord,...k(r)})}},He=class extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:r}=this._processInputParams(t);if(r.parsedType!==h.map)return f(r,{code:l.invalid_type,expected:h.map,received:r.parsedType}),w;const s=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([i,o],d)=>({key:s._parse(new B(r,i,r.path,[d,"key"])),value:a._parse(new B(r,o,r.path,[d,"value"]))}));if(r.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const o of n){const d=await o.key,c=await o.value;if(d.status==="aborted"||c.status==="aborted")return w;(d.status==="dirty"||c.status==="dirty")&&e.dirty(),i.set(d.value,c.value)}return{status:e.value,value:i}})}else{const i=new Map;for(const o of n){const d=o.key,c=o.value;if(d.status==="aborted"||c.status==="aborted")return w;(d.status==="dirty"||c.status==="dirty")&&e.dirty(),i.set(d.value,c.value)}return{status:e.value,value:i}}}};He.create=(t,e,r)=>new He({valueType:e,keyType:t,typeName:b.ZodMap,...k(r)});var Je=class ht extends N{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==h.set)return f(s,{code:l.invalid_type,expected:h.set,received:s.parsedType}),w;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(f(s,{code:l.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(f(s,{code:l.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const n=this._def.valueType;function i(d){const c=new Set;for(const p of d){if(p.status==="aborted")return w;p.status==="dirty"&&r.dirty(),c.add(p.value)}return{status:r.value,value:c}}const o=[...s.data.values()].map((d,c)=>n._parse(new B(s,d,s.path,c)));return s.common.async?Promise.all(o).then(d=>i(d)):i(o)}min(e,r){return new ht({...this._def,minSize:{value:e,message:y.toString(r)}})}max(e,r){return new ht({...this._def,maxSize:{value:e,message:y.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Je.create=(t,e)=>new Je({valueType:t,minSize:null,maxSize:null,typeName:b.ZodSet,...k(e)});var nr=class Le extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==h.function)return f(r,{code:l.invalid_type,expected:h.function,received:r.parsedType}),w;function s(o,d){return Be({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ve(),de].filter(c=>!!c),issueData:{code:l.invalid_arguments,argumentsError:d}})}function a(o,d){return Be({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ve(),de].filter(c=>!!c),issueData:{code:l.invalid_return_type,returnTypeError:d}})}const n={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof fe){const o=this;return M(async function(...d){const c=new L([]),p=await o._def.args.parseAsync(d,n).catch(m=>{throw c.addIssue(s(d,m)),c}),v=await Reflect.apply(i,this,p);return await o._def.returns._def.type.parseAsync(v,n).catch(m=>{throw c.addIssue(a(v,m)),c})})}else{const o=this;return M(function(...d){const c=o._def.args.safeParse(d,n);if(!c.success)throw new L([s(d,c.error)]);const p=Reflect.apply(i,this,c.data),v=o._def.returns.safeParse(p,n);if(!v.success)throw new L([a(p,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Le({...this._def,args:K.create(e).rest(te.create())})}returns(e){return new Le({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new Le({args:e||K.create([]).rest(te.create()),returns:r||te.create(),typeName:b.ZodFunction,...k(s)})}},Ee=class extends N{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};Ee.create=(t,e)=>new Ee({getter:t,typeName:b.ZodLazy,...k(e)});var Ze=class extends N{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return f(e,{received:e.data,code:l.invalid_literal,expected:this._def.value}),w}return{status:"valid",value:t.data}}get value(){return this._def.value}};Ze.create=(t,e)=>new Ze({value:t,typeName:b.ZodLiteral,...k(e)});function ir(t,e){return new De({values:t,typeName:b.ZodEnum,...k(e)})}var De=class pt extends N{constructor(){super(...arguments),be.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return f(r,{expected:T.joinValues(s),received:r.parsedType,code:l.invalid_type}),w}if(We(this,be)||Yt(this,be,new Set(this._def.values)),!We(this,be).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return f(r,{received:r.data,code:l.invalid_enum_value,options:s}),w}return M(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return pt.create(e,{...this._def,...r})}exclude(e,r=this._def){return pt.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};be=new WeakMap;De.create=ir;var Pe=class extends N{constructor(){super(...arguments),xe.set(this,void 0)}_parse(t){const e=T.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==h.string&&r.parsedType!==h.number){const s=T.objectValues(e);return f(r,{expected:T.joinValues(s),received:r.parsedType,code:l.invalid_type}),w}if(We(this,xe)||Yt(this,xe,new Set(T.getValidEnumValues(this._def.values))),!We(this,xe).has(t.data)){const s=T.objectValues(e);return f(r,{received:r.data,code:l.invalid_enum_value,options:s}),w}return M(t.data)}get enum(){return this._def.values}};xe=new WeakMap;Pe.create=(t,e)=>new Pe({values:t,typeName:b.ZodNativeEnum,...k(e)});var fe=class extends N{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==h.promise&&e.common.async===!1)return f(e,{code:l.invalid_type,expected:h.promise,received:e.parsedType}),w;const r=e.parsedType===h.promise?e.data:Promise.resolve(e.data);return M(r.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}};fe.create=(t,e)=>new fe({type:t,typeName:b.ZodPromise,...k(e)});var F=class extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:n=>{f(r,n),n.fatal?e.abort():e.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const n=s.transform(r.data,a);if(r.common.async)return Promise.resolve(n).then(async i=>{if(e.value==="aborted")return w;const o=await this._def.schema._parseAsync({data:i,path:r.path,parent:r});return o.status==="aborted"?w:o.status==="dirty"||e.value==="dirty"?ce(o.value):o});{if(e.value==="aborted")return w;const i=this._def.schema._parseSync({data:n,path:r.path,parent:r});return i.status==="aborted"?w:i.status==="dirty"||e.value==="dirty"?ce(i.value):i}}if(s.type==="refinement"){const n=i=>{const o=s.refinement(i,a);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?w:(i.status==="dirty"&&e.dirty(),n(i.value),{status:e.value,value:i.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>i.status==="aborted"?w:(i.status==="dirty"&&e.dirty(),n(i.value).then(()=>({status:e.value,value:i.value}))))}if(s.type==="transform")if(r.common.async===!1){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!re(n))return n;const i=s.transform(n.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:i}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(n=>re(n)?Promise.resolve(s.transform(n.value,a)).then(i=>({status:e.value,value:i})):n);T.assertNever(s)}};F.create=(t,e,r)=>new F({schema:t,typeName:b.ZodEffects,effect:e,...k(r)});F.createWithPreprocess=(t,e,r)=>new F({schema:e,effect:{type:"preprocess",transform:t},typeName:b.ZodEffects,...k(r)});var V=class extends N{_parse(t){return this._getType(t)===h.undefined?M(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};V.create=(t,e)=>new V({innerType:t,typeName:b.ZodOptional,...k(e)});var X=class extends N{_parse(t){return this._getType(t)===h.null?M(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};X.create=(t,e)=>new X({innerType:t,typeName:b.ZodNullable,...k(e)});var Me=class extends N{_parse(t){const{ctx:e}=this._processInputParams(t);let r=e.data;return e.parsedType===h.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};Me.create=(t,e)=>new Me({innerType:t,typeName:b.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...k(e)});var $e=class extends N{_parse(t){const{ctx:e}=this._processInputParams(t),r={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return je(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new L(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new L(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};$e.create=(t,e)=>new $e({innerType:t,typeName:b.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...k(e)});var Ye=class extends N{_parse(t){if(this._getType(t)!==h.nan){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.nan,received:r.parsedType}),w}return{status:"valid",value:t.data}}};Ye.create=t=>new Ye({typeName:b.ZodNaN,...k(t)});var ln=Symbol("zod_brand"),_t=class extends N{_parse(t){const{ctx:e}=this._processInputParams(t),r=e.data;return this._def.type._parse({data:r,path:e.path,parent:e})}unwrap(){return this._def.type}},bt=class or extends N{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?w:n.status==="dirty"?(r.dirty(),ce(n.value)):this._def.out._parseAsync({data:n.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?w:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new or({in:e,out:r,typeName:b.ZodPipeline})}},ze=class extends N{_parse(t){const e=this._def.innerType._parse(t),r=s=>(re(s)&&(s.value=Object.freeze(s.value)),s);return je(e)?e.then(s=>r(s)):r(e)}unwrap(){return this._def.innerType}};ze.create=(t,e)=>new ze({innerType:t,typeName:b.ZodReadonly,...k(e)});function Ot(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function cr(t,e={},r){return t?ue.create().superRefine((s,a)=>{var n,i;const o=t(s);if(o instanceof Promise)return o.then(d=>{var c,p;if(!d){const v=Ot(e,s),g=(p=(c=v.fatal)!==null&&c!==void 0?c:r)!==null&&p!==void 0?p:!0;a.addIssue({code:"custom",...v,fatal:g})}});if(!o){const d=Ot(e,s),c=(i=(n=d.fatal)!==null&&n!==void 0?n:r)!==null&&i!==void 0?i:!0;a.addIssue({code:"custom",...d,fatal:c})}}):ue.create()}var un={object:D.lazycreate},b;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(b||(b={}));var fn=(t,e={message:`Input not instance of ${t.name}`})=>cr(r=>r instanceof t,e),dr=le.create,lr=Ne.create,hn=Ye.create,pn=Ce.create,ur=Te.create,mn=Se.create,vn=qe.create,gn=Ae.create,yn=Oe.create,_n=ue.create,bn=te.create,xn=H.create,wn=Ge.create,kn=ae.create,jn=D.create,Nn=D.strictCreate,Cn=Re.create,Tn=tr.create,Sn=Ie.create,An=K.create,On=sr.create,Rn=He.create,In=Je.create,En=nr.create,Zn=Ee.create,Pn=Ze.create,Mn=De.create,$n=Pe.create,zn=fe.create,Rt=F.create,Dn=V.create,Un=X.create,Ln=F.createWithPreprocess,Fn=bt.create,Vn=()=>dr().optional(),Bn=()=>lr().optional(),Wn=()=>ur().optional(),qn={string:t=>le.create({...t,coerce:!0}),number:t=>Ne.create({...t,coerce:!0}),boolean:t=>Te.create({...t,coerce:!0}),bigint:t=>Ce.create({...t,coerce:!0}),date:t=>Se.create({...t,coerce:!0})},Gn=w,I=Object.freeze({__proto__:null,defaultErrorMap:de,setErrorMap:Us,getErrorMap:Ve,makeIssue:Be,EMPTY_PATH:Ls,addIssueToContext:f,ParseStatus:$,INVALID:w,DIRTY:ce,OK:M,isAborted:ot,isDirty:ct,isValid:re,isAsync:je,get util(){return T},get objectUtil(){return it},ZodParsedType:h,getParsedType:G,ZodType:N,datetimeRegex:Qt,ZodString:le,ZodNumber:Ne,ZodBigInt:Ce,ZodBoolean:Te,ZodDate:Se,ZodSymbol:qe,ZodUndefined:Ae,ZodNull:Oe,ZodAny:ue,ZodUnknown:te,ZodNever:H,ZodVoid:Ge,ZodArray:ae,ZodObject:D,ZodUnion:Re,ZodDiscriminatedUnion:tr,ZodIntersection:Ie,ZodTuple:K,ZodRecord:sr,ZodMap:He,ZodSet:Je,ZodFunction:nr,ZodLazy:Ee,ZodLiteral:Ze,ZodEnum:De,ZodNativeEnum:Pe,ZodPromise:fe,ZodEffects:F,ZodTransformer:F,ZodOptional:V,ZodNullable:X,ZodDefault:Me,ZodCatch:$e,ZodNaN:Ye,BRAND:ln,ZodBranded:_t,ZodPipeline:bt,ZodReadonly:ze,custom:cr,Schema:N,ZodSchema:N,late:un,get ZodFirstPartyTypeKind(){return b},coerce:qn,any:_n,array:kn,bigint:pn,boolean:ur,date:mn,discriminatedUnion:Tn,effect:Rt,enum:Mn,function:En,instanceof:fn,intersection:Sn,lazy:Zn,literal:Pn,map:Rn,nan:hn,nativeEnum:$n,never:xn,null:yn,nullable:Un,number:lr,object:jn,oboolean:Wn,onumber:Bn,optional:Dn,ostring:Vn,pipeline:Fn,preprocess:Ln,promise:zn,record:On,set:In,strictObject:Nn,string:dr,symbol:vn,transformer:Rt,tuple:An,undefined:gn,union:Cn,unknown:bn,void:wn,NEVER:Gn,ZodIssueCode:l,quotelessJson:Ds,ZodError:L}),It={name:"@imgly/background-removal",version:"1.7.0"},Hn=I.object({publicPath:I.string().optional().describe("The public path to the wasm files and the onnx model.").default("https://staticimgly.com/@imgly/background-removal-data/${PACKAGE_VERSION}/dist/").transform(t=>t.replace("${PACKAGE_NAME}",It.name).replace("${PACKAGE_VERSION}",It.version)),debug:I.boolean().default(!1).describe("Whether to enable debug logging."),rescale:I.boolean().default(!0).describe("Whether to rescale the image."),device:I.enum(["cpu","gpu"]).default("cpu").describe("The device to run the model on."),proxyToWorker:I.boolean().default(!1).describe("Whether to proxy inference to a web worker."),fetchArgs:I.any().default({}).describe("Arguments to pass to fetch when loading the model."),progress:I.function().args(I.string(),I.number(),I.number()).returns(I.void()).describe("Progress callback.").optional(),model:I.preprocess(t=>{switch(t){case"large":return"isnet";case"small":return"isnet_quint8";case"medium":return"isnet_fp16";default:return t}},I.enum(["isnet","isnet_fp16","isnet_quint8"])).default("medium"),output:I.object({format:I.enum(["image/png","image/jpeg","image/webp","image/x-rgba8","image/x-alpha8"]).default("image/png"),quality:I.number().default(.8)}).default({})}).default({}).transform(t=>(t.debug&&console.log("Config:",t),t.debug&&!t.progress&&(t.progress=t.progress??((e,r,s)=>{console.debug(`Downloading ${e}: ${r} of ${s}`)}),crossOriginIsolated||t.debug&&console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),t));function Jn(t){return Hn.parse(t??{})}var Yn=Ke(Xe());async function Kn(t){t.debug&&console.debug("Loading model...",t.model);const e=t.model,s=await(await Wt(`/models/${e}`,t)).arrayBuffer();return await $s(s,t)}async function Xn(t){t=Jn(t);const e=await Kn(t);return{config:t,session:{base:e}}}async function Qn(t,e,r){const[a,n,i]=t.shape,o=!1;let d=Tt(t,1024,1024,o);const c=Is(d);let p=await zs(r.base,[["input",c]],["output"],e),v=(0,Yn.default)(p[0].data,[1024,1024,1]),g=Zs(v);return e.rescale?(g=Tt(g,n,a,o),[g,t]):[g,d]}var ei=Ns(Xn,t=>JSON.stringify(t));async function ti(t,e){const{config:r,session:s}=await ei(e);r.progress&&r.progress("compute:decode",0,4);const a=await Es(t,r);r.progress?.("compute:inference",1,4);const[n,i]=await Qn(a,r,s);r.progress?.("compute:mask",2,4);const o=i,[d,c]=o.shape,p=d*c;for(let g=0;g<p;g+=1)o.data[4*g+3]=n.data[g];r.progress?.("compute:encode",3,4);const v=await Ts(o,r.output.quality,r.output.format);return r.progress?.("compute:encode",4,4),v}const ri="https://glacial-samiyah-presutural.ngrok-free.dev",ai=["image/jpeg","image/png","image/jpg"],li=()=>{const t=hr(),[e,r]=z.useState({idNumber:"",firstName:"",middleInitial:"",lastName:"",course:"",address:"",guardianName:"",guardianContact:"",id_picture:null,signature_picture:null}),[s,a]=z.useState(!1),[n,i]=z.useState("idle"),[o,d]=z.useState(""),[c,p]=z.useState(!1),[v,g]=z.useState("idle"),[m,A]=z.useState(null),[x,C]=z.useState(null),[O,E]=z.useState(!1),[P,R]=z.useState(0),[ge,se]=z.useState(""),j=!e.idNumber||!e.firstName||!e.lastName||!e.id_picture||!e.signature_picture,Q=async(S,_)=>{const Z=S.target.files?.[0];if(!(!Z||!ai.includes(Z.type)))if(r(W=>({...W,[_]:Z})),_==="id_picture"){E(!0),R(0),console.log(" Starting Imgly Background Removal...");try{const ie=await ti(Z,{debug:!0,model:"isnet_fp16",proxyToWorker:!0,progress:(ee,J,fr)=>{const xt=Math.round(J/fr*100);R(xt),console.log(`[Imgly] ${ee}: ${xt}%`)}});A(URL.createObjectURL(ie))}catch(W){console.error(" Local BG removal failed:",W),A(URL.createObjectURL(Z))}finally{E(!1),R(0)}}else C(URL.createObjectURL(Z))},ne=async S=>{if(S.preventDefault(),!(j||!e.id_picture||!e.signature_picture)){p(!0),g("enhancing");try{const _=await new Promise(ee=>{const J=new FileReader;J.onload=()=>ee(J.result),J.readAsDataURL(e.id_picture)}),Z=await vr.post(`${ri}/process_and_return`,{photo:_,type:"id_picture"},{responseType:"blob",timeout:18e4}),W=new File([Z.data],"enhanced_id.webp",{type:"image/webp"});g("saving"),await gr();const ie=new FormData;Object.entries(e).forEach(([ee,J])=>{ee!=="id_picture"&&ee!=="signature_picture"&&J!==null&&ie.append(ee,J)}),ie.append("id_picture",W),ie.append("signature_picture",e.signature_picture),await yr.post("/students",ie,{headers:{"Content-Type":"multipart/form-data"}}),se("success"),window.scrollTo({top:0,behavior:"smooth"})}catch(_){console.error(" Critical Submission Failure:",_),se("error")}finally{p(!1),g("idle")}}};return z.useEffect(()=>{if(e.idNumber.length>=8){const S=setTimeout(async()=>{a(!0);try{const _=await _r(e.idNumber);if(_.valid){i("valid");const Z=_.data;r(W=>({...W,firstName:Z.firstName||"",middleInitial:Z.middleName?Z.middleName.charAt(0).toUpperCase():"",lastName:Z.lastName||"",course:Z.course||W.course}))}}catch{i("invalid"),d("ID Not Found")}finally{a(!1)}},800);return()=>clearTimeout(S)}},[e.idNumber]),u.jsxs("div",{className:"min-h-screen bg-[#f1f5f9] font-sans pb-20",children:[u.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-2xl border-b border-slate-200 px-4 md:px-10 py-4",children:u.jsxs("div",{className:"max-w-[1440px] mx-auto flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-3 text-slate-600 font-bold group",children:[u.jsx("div",{className:"p-2.5 bg-slate-100 group-hover:bg-teal-50 rounded-2xl transition-colors",children:u.jsx(br,{size:22})}),u.jsx("span",{className:"hidden md:inline-block text-sm",children:"Cancel"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-[10px] font-black tracking-[0.3em] text-teal-600 uppercase",children:"NCnian Digital ID"}),u.jsx("p",{className:"text-sm lg:text-xl font-black text-slate-900 uppercase",children:"Student Registration"})]}),u.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-slate-400 bg-slate-50 px-4 py-2 rounded-2xl border border-slate-100",children:[u.jsx(xr,{size:16}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:"Verified"})]})]})}),u.jsxs(tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto mt-8 px-4",children:[u.jsx(pr,{children:ge==="success"&&u.jsxs(tt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-6 p-8 rounded-[2.5rem] bg-emerald-600 text-white shadow-2xl flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Pt,{size:32}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-black uppercase text-sm tracking-widest",children:"Submitted Successfully"}),u.jsx("p",{className:"text-xs text-emerald-100 font-bold",children:"Your ID data is now being saved."})]})]}),u.jsx("button",{onClick:()=>t("/"),className:"bg-white text-emerald-700 px-8 py-3 rounded-2xl text-xs font-black hover:bg-emerald-50 transition-colors",children:"RETURN"})]})}),u.jsxs("form",{onSubmit:ne,className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[u.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[u.jsxs(Et,{icon:u.jsx(jr,{}),title:"School Credentials",subtitle:"Academic Verification",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(Y,{label:"Student ID Number",value:e.idNumber,onChange:S=>r({...e,idNumber:S}),status:n,isLoading:s}),u.jsx(Y,{label:"Course/Year",value:e.course,onChange:S=>r({...e,course:S})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mt-6",children:[u.jsx("div",{className:"md:col-span-2",children:u.jsx(Y,{label:"First Name",value:e.firstName,onChange:S=>r({...e,firstName:S})})}),u.jsx("div",{className:"md:col-span-1",children:u.jsx(Y,{label:"M.I.",value:e.middleInitial,onChange:S=>r({...e,middleInitial:S})})}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(Y,{label:"Last Name",value:e.lastName,onChange:S=>r({...e,lastName:S})})})]})]}),u.jsxs(Et,{icon:u.jsx(mr,{}),title:"Emergency Contact",subtitle:"Contact Information",children:[u.jsx(Y,{label:"Home Address",value:e.address,onChange:S=>r({...e,address:S}),isTextArea:!0}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[u.jsx(Y,{label:"Guardian Name",value:e.guardianName,onChange:S=>r({...e,guardianName:S})}),u.jsx(Y,{label:"Guardian Phone",value:e.guardianContact,onChange:S=>r({...e,guardianContact:S})})]})]})]}),u.jsx("div",{className:"lg:col-span-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-xl border border-slate-100 space-y-10 sticky top-28",children:[u.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest text-center",children:"Capture Photo"}),u.jsxs("div",{className:"space-y-4 text-center",children:[u.jsxs("div",{className:"relative mx-auto w-44 h-44",children:[u.jsx("div",{className:`w-full h-full rounded-[3rem] bg-slate-50 border-2 border-dashed flex flex-col items-center justify-center overflow-hidden transition-all duration-300 ${O?"border-teal-500 bg-teal-50 shadow-inner":"border-slate-200 hover:border-teal-300"}`,children:O?u.jsxs("div",{className:"flex flex-col items-center gap-3 px-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Rr,{className:"animate-spin text-teal-600",size:32}),u.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-[8px] font-black text-teal-600",children:[P,"%"]})]}),u.jsx("div",{className:"w-full bg-teal-200 h-1 rounded-full overflow-hidden",children:u.jsx(tt.div,{className:"bg-teal-600 h-full",initial:{width:0},animate:{width:`${P}%`}})}),u.jsx("span",{className:"text-[9px] font-black text-teal-700 uppercase",children:"GPU Background Removal"})]}):m?u.jsx("img",{src:m,className:"w-full h-full object-cover"}):u.jsx(Sr,{size:44,className:"text-slate-300"})}),u.jsx("input",{type:"file",id:"id-p",hidden:!0,onChange:S=>Q(S,"id_picture"),disabled:c}),u.jsx("label",{htmlFor:"id-p",className:"absolute -bottom-2 -right-2 p-4 bg-teal-600 text-white rounded-2xl cursor-pointer shadow-xl hover:scale-110 active:scale-95 transition-all",children:u.jsx(Cr,{size:20})})]}),u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Student Photo (2x2)"})]}),u.jsxs("div",{className:"space-y-4 text-center",children:[u.jsxs("div",{className:"relative mx-auto w-full h-28 group",children:[u.jsx("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-2 border-dashed flex flex-col items-center justify-center overflow-hidden border-slate-200 hover:border-teal-300 transition-all",children:x?u.jsx("img",{src:x,className:"w-full h-full object-contain p-4"}):u.jsx(kt,{size:32,className:"text-slate-300"})}),u.jsx("input",{type:"file",id:"sig-p",hidden:!0,onChange:S=>Q(S,"signature_picture"),disabled:c}),u.jsx("label",{htmlFor:"sig-p",className:"absolute -bottom-2 -right-2 bg-slate-800 text-white p-3 rounded-2xl cursor-pointer shadow-lg hover:scale-110 active:scale-95 transition-all",children:u.jsx(kt,{size:20})})]}),u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"E-Signature"})]}),u.jsx("div",{className:"pt-4",children:u.jsxs("button",{type:"submit",disabled:c||O||n!=="valid"||j,className:`w-full py-6 rounded-[2rem] font-black text-xs tracking-[0.3em] shadow-2xl transition-all flex flex-col items-center justify-center gap-1 ${n==="valid"&&!j?"bg-[#00928a] text-white hover:bg-[#007a73]":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[c?u.jsx(Zt,{className:"animate-spin",size:18}):u.jsx(Er,{size:18}),c?"WORKING...":"CONFIRM & SUBMIT"]}),c&&u.jsx("span",{className:"text-[8px] opacity-70 animate-pulse uppercase tracking-widest mt-1 font-bold",children:v==="enhancing"?"Python Bridge: GFPGAN Restoration...":"Finalizing Database Record..."})]})})]})})]})]})]})},Et=({icon:t,title:e,subtitle:r,children:s})=>u.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-sm border border-slate-200 overflow-hidden relative",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8 relative z-10",children:[u.jsx("div",{className:"w-14 h-14 bg-teal-50 rounded-[1.25rem] flex items-center justify-center text-teal-600 shadow-sm",children:t}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:e}),u.jsx("p",{className:"text-[10px] text-teal-600/60 font-black uppercase tracking-widest",children:r})]})]}),u.jsx("div",{className:"relative z-10",children:s})]}),Y=({label:t,value:e,onChange:r,isTextArea:s=!1,status:a="idle",isLoading:n=!1})=>u.jsxs("div",{className:"w-full",children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 ml-4 tracking-[0.15em]",children:t}),u.jsx("div",{className:"relative",children:s?u.jsx("textarea",{value:e,onChange:i=>r(i.target.value),rows:3,className:"w-full bg-slate-50 border border-slate-200 rounded-[2rem] p-6 outline-none focus:bg-white focus:border-teal-500 transition-all text-sm font-bold"}):u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),className:`w-full bg-slate-50 border rounded-[2rem] px-6 py-5 outline-none transition-all text-sm font-bold ${a==="valid"?"border-emerald-500 bg-emerald-50/30":a==="invalid"?"border-rose-500 bg-rose-50/30":"border-slate-200 focus:border-teal-500"}`}),u.jsxs("div",{className:"absolute right-6 top-1/2 -translate-y-1/2",children:[n&&u.jsx(Zt,{className:"animate-spin text-teal-500",size:20}),a==="valid"&&!n&&u.jsx(Pt,{className:"text-emerald-500",size:20}),a==="invalid"&&!n&&u.jsx(wr,{className:"text-rose-500",size:20})]})]})})]});export{li as default};
