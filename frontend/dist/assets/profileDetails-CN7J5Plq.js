import{c as ue,_ as yt,a8 as dr,r as U,j as u,a9 as _t,H as lr,U as ur,L as It,aa as fr,a as hr,ab as pr}from"./index-CqwK48Ki.js";import{v as mr}from"./reports-B93JDSU3.js";import{A as vr}from"./arrow-left-Bq-btW2f.js";import{S as gr}from"./shield-check-mUtlK54V.js";import{C as Et}from"./circle-check-BosByGZH.js";import{C as yr}from"./circle-alert-CoVU7JyW.js";const _r=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],br=ue("book-open",_r);const xr=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],wr=ue("camera",xr);const kr=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],jr=ue("cloud-upload",kr);const Cr=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],bt=ue("file-check",Cr);const Nr=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Tr=ue("refresh-ccw",Nr);const Sr=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ar=ue("zap",Sr);var Or=Object.create,Rt=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,Zt=Object.getOwnPropertyNames,Er=Object.getPrototypeOf,Rr=Object.prototype.hasOwnProperty,ft=(t,e)=>function(){return e||(0,t[Zt(t)[0]])((e={exports:{}}).exports,e),e.exports},Zr=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Zt(e))!Rr.call(t,a)&&a!==r&&Rt(t,a,{get:()=>e[a],enumerable:!(s=Ir(e,a))||s.enumerable});return t},Je=(t,e,r)=>(r=t!=null?Or(Er(t)):{},Zr(!t||!t.__esModule?Rt(r,"default",{value:t,enumerable:!0}):r,t)),Pr=ft({"../../node_modules/.pnpm/iota-array@1.0.0/node_modules/iota-array/iota.js"(t,e){function r(s){for(var a=new Array(s),n=0;n<s;++n)a[n]=n;return a}e.exports=r}}),Mr=ft({"../../node_modules/.pnpm/is-buffer@1.1.6/node_modules/is-buffer/index.js"(t,e){e.exports=function(a){return a!=null&&(r(a)||s(a)||!!a._isBuffer)};function r(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function s(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&r(a.slice(0,0))}}}),Ye=ft({"../../node_modules/.pnpm/ndarray@1.0.19/node_modules/ndarray/ndarray.js"(t,e){var r=Pr(),s=Mr(),a=typeof Float64Array<"u";function n(g,y){return g[0]-y[0]}function i(){var g=this.stride,y=new Array(g.length),m;for(m=0;m<y.length;++m)y[m]=[Math.abs(g[m]),m];y.sort(n);var A=new Array(y.length);for(m=0;m<A.length;++m)A[m]=y[m][1];return A}function o(g,y){var m=["View",y,"d",g].join("");y<0&&(m="View_Nil"+g);var A=g==="generic";if(y===-1){var x="function "+m+"(a){this.data=a;};var proto="+m+".prototype;proto.dtype='"+g+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+m+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+m+"(a){return new "+m+"(a);}",I=new Function(x);return I()}else if(y===0){var x="function "+m+"(a,d) {this.data = a;this.offset = d};var proto="+m+".prototype;proto.dtype='"+g+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+m+"_copy() {return new "+m+"(this.data,this.offset)};proto.pick=function "+m+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+m+"_get(){return "+(A?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+m+"_set(v){return "+(A?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+m+"(a,b,c,d){return new "+m+"(a,d)}",I=new Function("TrivialArray",x);return I(c[g][0])}var x=["'use strict'"],N=r(y),O=N.map(function(v){return"i"+v}),P="this.offset+"+N.map(function(v){return"this.stride["+v+"]*i"+v}).join("+"),$=N.map(function(v){return"b"+v}).join(","),E=N.map(function(v){return"c"+v}).join(",");x.push("function "+m+"(a,"+$+","+E+",d){this.data=a","this.shape=["+$+"]","this.stride=["+E+"]","this.offset=d|0}","var proto="+m+".prototype","proto.dtype='"+g+"'","proto.dimension="+y),x.push("Object.defineProperty(proto,'size',{get:function "+m+"_size(){return "+N.map(function(v){return"this.shape["+v+"]"}).join("*"),"}})"),y===1?x.push("proto.order=[0]"):(x.push("Object.defineProperty(proto,'order',{get:"),y<4?(x.push("function "+m+"_order(){"),y===2?x.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):y===3&&x.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):x.push("ORDER})")),x.push("proto.set=function "+m+"_set("+O.join(",")+",v){"),A?x.push("return this.data.set("+P+",v)}"):x.push("return this.data["+P+"]=v}"),x.push("proto.get=function "+m+"_get("+O.join(",")+"){"),A?x.push("return this.data.get("+P+")}"):x.push("return this.data["+P+"]}"),x.push("proto.index=function "+m+"_index(",O.join(),"){return "+P+"}"),x.push("proto.hi=function "+m+"_hi("+O.join(",")+"){return new "+m+"(this.data,"+N.map(function(v){return["(typeof i",v,"!=='number'||i",v,"<0)?this.shape[",v,"]:i",v,"|0"].join("")}).join(",")+","+N.map(function(v){return"this.stride["+v+"]"}).join(",")+",this.offset)}");var X=N.map(function(v){return"a"+v+"=this.shape["+v+"]"}),re=N.map(function(v){return"c"+v+"=this.stride["+v+"]"});x.push("proto.lo=function "+m+"_lo("+O.join(",")+"){var b=this.offset,d=0,"+X.join(",")+","+re.join(","));for(var j=0;j<y;++j)x.push("if(typeof i"+j+"==='number'&&i"+j+">=0){d=i"+j+"|0;b+=c"+j+"*d;a"+j+"-=d}");x.push("return new "+m+"(this.data,"+N.map(function(v){return"a"+v}).join(",")+","+N.map(function(v){return"c"+v}).join(",")+",b)}"),x.push("proto.step=function "+m+"_step("+O.join(",")+"){var "+N.map(function(v){return"a"+v+"=this.shape["+v+"]"}).join(",")+","+N.map(function(v){return"b"+v+"=this.stride["+v+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var j=0;j<y;++j)x.push("if(typeof i"+j+"==='number'){d=i"+j+"|0;if(d<0){c+=b"+j+"*(a"+j+"-1);a"+j+"=ceil(-a"+j+"/d)}else{a"+j+"=ceil(a"+j+"/d)}b"+j+"*=d}");x.push("return new "+m+"(this.data,"+N.map(function(v){return"a"+v}).join(",")+","+N.map(function(v){return"b"+v}).join(",")+",c)}");for(var ae=new Array(y),S=new Array(y),j=0;j<y;++j)ae[j]="a[i"+j+"]",S[j]="b[i"+j+"]";x.push("proto.transpose=function "+m+"_transpose("+O+"){"+O.map(function(v,R){return v+"=("+v+"===undefined?"+R+":"+v+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+m+"(this.data,"+ae.join(",")+","+S.join(",")+",this.offset)}"),x.push("proto.pick=function "+m+"_pick("+O+"){var a=[],b=[],c=this.offset");for(var j=0;j<y;++j)x.push("if(typeof i"+j+"==='number'&&i"+j+">=0){c=(c+this.stride["+j+"]*i"+j+")|0}else{a.push(this.shape["+j+"]);b.push(this.stride["+j+"])}");x.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),x.push("return function construct_"+m+"(data,shape,stride,offset){return new "+m+"(data,"+N.map(function(v){return"shape["+v+"]"}).join(",")+","+N.map(function(v){return"stride["+v+"]"}).join(",")+",offset)}");var I=new Function("CTOR_LIST","ORDER",x.join(`
`));return I(c[g],i)}function d(g){if(s(g))return"buffer";if(a)switch(Object.prototype.toString.call(g)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(g)?"array":"generic"}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function p(g,y,m,A){if(g===void 0){var E=c.array[0];return E([])}else typeof g=="number"&&(g=[g]);y===void 0&&(y=[g.length]);var x=y.length;if(m===void 0){m=new Array(x);for(var N=x-1,O=1;N>=0;--N)m[N]=O,O*=y[N]}if(A===void 0){A=0;for(var N=0;N<x;++N)m[N]<0&&(A-=(y[N]-1)*m[N])}for(var P=d(g),$=c[P];$.length<=x+1;)$.push(o(P,$.length-1));var E=$[x+1];return E(g,y,m,A)}e.exports=p}}),$r=typeof global=="object"&&global&&global.Object===Object&&global,zr=$r,Dr=typeof self=="object"&&self&&self.Object===Object&&self,Ur=zr||Dr||Function("return this")(),ht=Ur,Lr=ht.Symbol,Ue=Lr,Pt=Object.prototype,Vr=Pt.hasOwnProperty,Fr=Pt.toString,ve=Ue?Ue.toStringTag:void 0;function Br(t){var e=Vr.call(t,ve),r=t[ve];try{t[ve]=void 0;var s=!0}catch{}var a=Fr.call(t);return s&&(e?t[ve]=r:delete t[ve]),a}var Wr=Br,qr=Object.prototype,Gr=qr.toString;function Hr(t){return Gr.call(t)}var Jr=Hr,Yr="[object Null]",Kr="[object Undefined]",xt=Ue?Ue.toStringTag:void 0;function Xr(t){return t==null?t===void 0?Kr:Yr:xt&&xt in Object(t)?Wr(t):Jr(t)}var Qr=Xr;function ea(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Mt=ea,ta="[object AsyncFunction]",ra="[object Function]",aa="[object GeneratorFunction]",sa="[object Proxy]";function na(t){if(!Mt(t))return!1;var e=Qr(t);return e==ra||e==aa||e==ta||e==sa}var ia=na,oa=ht["__core-js_shared__"],Qe=oa,wt=(function(){var t=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function ca(t){return!!wt&&wt in t}var da=ca,la=Function.prototype,ua=la.toString;function fa(t){if(t!=null){try{return ua.call(t)}catch{}try{return t+""}catch{}}return""}var ha=fa,pa=/[\\^$.*+?()[\]{}|]/g,ma=/^\[object .+?Constructor\]$/,va=Function.prototype,ga=Object.prototype,ya=va.toString,_a=ga.hasOwnProperty,ba=RegExp("^"+ya.call(_a).replace(pa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xa(t){if(!Mt(t)||da(t))return!1;var e=ia(t)?ba:ma;return e.test(ha(t))}var wa=xa;function ka(t,e){return t?.[e]}var ja=ka;function Ca(t,e){var r=ja(t,e);return wa(r)?r:void 0}var $t=Ca,Na=$t(Object,"create"),xe=Na;function Ta(){this.__data__=xe?xe(null):{},this.size=0}var Sa=Ta;function Aa(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Oa=Aa,Ia="__lodash_hash_undefined__",Ea=Object.prototype,Ra=Ea.hasOwnProperty;function Za(t){var e=this.__data__;if(xe){var r=e[t];return r===Ia?void 0:r}return Ra.call(e,t)?e[t]:void 0}var Pa=Za,Ma=Object.prototype,$a=Ma.hasOwnProperty;function za(t){var e=this.__data__;return xe?e[t]!==void 0:$a.call(e,t)}var Da=za,Ua="__lodash_hash_undefined__";function La(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=xe&&e===void 0?Ua:e,this}var Va=La;function fe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}fe.prototype.clear=Sa;fe.prototype.delete=Oa;fe.prototype.get=Pa;fe.prototype.has=Da;fe.prototype.set=Va;var kt=fe;function Fa(){this.__data__=[],this.size=0}var Ba=Fa;function Wa(t,e){return t===e||t!==t&&e!==e}var qa=Wa;function Ga(t,e){for(var r=t.length;r--;)if(qa(t[r][0],e))return r;return-1}var Ke=Ga,Ha=Array.prototype,Ja=Ha.splice;function Ya(t){var e=this.__data__,r=Ke(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():Ja.call(e,r,1),--this.size,!0}var Ka=Ya;function Xa(t){var e=this.__data__,r=Ke(e,t);return r<0?void 0:e[r][1]}var Qa=Xa;function es(t){return Ke(this.__data__,t)>-1}var ts=es;function rs(t,e){var r=this.__data__,s=Ke(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this}var as=rs;function he(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}he.prototype.clear=Ba;he.prototype.delete=Ka;he.prototype.get=Qa;he.prototype.has=ts;he.prototype.set=as;var ss=he,ns=$t(ht,"Map"),is=ns;function os(){this.size=0,this.__data__={hash:new kt,map:new(is||ss),string:new kt}}var cs=os;function ds(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ls=ds;function us(t,e){var r=t.__data__;return ls(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Xe=us;function fs(t){var e=Xe(this,t).delete(t);return this.size-=e?1:0,e}var hs=fs;function ps(t){return Xe(this,t).get(t)}var ms=ps;function vs(t){return Xe(this,t).has(t)}var gs=vs;function ys(t,e){var r=Xe(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this}var _s=ys;function pe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}pe.prototype.clear=cs;pe.prototype.delete=hs;pe.prototype.get=ms;pe.prototype.has=gs;pe.prototype.set=_s;var zt=pe,bs="Expected a function";function pt(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bs);var r=function(){var s=arguments,a=e?e.apply(this,s):s[0],n=r.cache;if(n.has(a))return n.get(a);var i=t.apply(this,s);return r.cache=n.set(a,i)||n,i};return r.cache=new(pt.Cache||zt),r}pt.Cache=zt;var xs=pt,mt=Je(Ye()),Dt=class rt{constructor(e,r){this.type="application/octet-stream",this.params={},this.type=e,this.params=r}toString(){const e=[];for(const r in this.params){const s=this.params[r];e.push(`${r}=${s}`)}return[this.type,...e].join(";")}static create(e,r){return new rt(e,r)}isIdentical(e){return this.type===e.type&&this.params===e.params}isEqual(e){return this.type===e.type}static fromString(e){const[r,...s]=e.split(";"),a={};for(const n of s){const[i,o]=n.split("=");a[i.trim()]=o.trim()}return new rt(r,a)}},et=Je(Ye());async function ws(t){const e=Dt.fromString(t.type);switch(e.type){case"image/x-alpha8":{const r=parseInt(e.params.width),s=parseInt(e.params.height);return(0,et.default)(new Uint8Array(await t.arrayBuffer()),[s,r,1])}case"image/x-rgba8":{const r=parseInt(e.params.width),s=parseInt(e.params.height);return(0,et.default)(new Uint8Array(await t.arrayBuffer()),[s,r,4])}case"application/octet-stream":case"image/png":case"image/jpeg":case"image/jpg":case"image/webp":{const r=await createImageBitmap(t),s=Ns(r);return(0,et.default)(new Uint8Array(s.data),[s.height,s.width,4])}default:throw new Error(`Invalid format: ${e.type} with params: ${e.params}`)}}async function ks(t,e=.8,r="image/png"){const[s,a,n]=t.shape;switch(r){case"image/x-alpha8":case"image/x-rgba8":{const d=Dt.create(r,{width:a.toString(),height:s.toString()});return new Blob([t.data],{type:d.toString()})}case"image/png":case"image/jpeg":case"image/webp":{const d=new ImageData(new Uint8ClampedArray(t.data),a,s);var i=Ut(d.width,d.height),o=i.getContext("2d");return o.putImageData(d,0,0),i.convertToBlob({quality:e,type:r})}default:throw new Error(`Invalid format: ${r}`)}}function js(t){return new RegExp("^(?:[a-z+]+:)?//","i").test(t)}function Cs(t,e){return js(t)?t:new URL(t,e).href}function Ns(t){var e=Ut(t.width,t.height),r=e.getContext("2d");return r.drawImage(t,0,0),r.getImageData(0,0,e.width,e.height)}function Ts(t){if(typeof Uint8Array<"u")return new Uint8Array(t);if(typeof Uint8ClampedArray<"u")return new Uint8ClampedArray(t);if(typeof Uint16Array<"u")return new Uint16Array(t);if(typeof Uint32Array<"u")return new Uint32Array(t);if(typeof Float32Array<"u")return new Float32Array(t);if(typeof Float64Array<"u")return new Float64Array(t);throw new Error("TypedArray not supported")}function jt(t,e,r,s=!1){const[a,n,i]=t.shape;let o=n/e,d=a/r;s&&(o=d=Math.max(o,d)>1?Math.max(o,d):Math.min(o,d));const c=(0,mt.default)(Ts(i*e*r),[r,e,i]);for(let p=0;p<r;p++)for(let g=0;g<e;g++){const y=g*o,m=p*d,A=Math.max(Math.floor(y),0),x=Math.min(Math.ceil(y),n-1),N=Math.max(Math.floor(m),0),O=Math.min(Math.ceil(m),a-1),P=y-A,$=m-N;for(let E=0;E<i;E++){const X=t.get(N,A,E),re=t.get(N,x,E),j=t.get(O,A,E),ae=t.get(O,x,E),S=(1-P)*(1-$)*X+P*(1-$)*re+(1-P)*$*j+P*$*ae;c.set(p,g,E,S)}}return c}function Ss(t,e=[128,128,128],r=[256,256,256]){var s=t.data;const[a,n,i]=t.shape,o=a*n,d=new Float32Array(3*o);for(let c=0,p=0;c<s.length;c+=4,p+=1)d[p]=(s[c]-e[0])/r[0],d[p+o]=(s[c+1]-e[1])/r[1],d[p+o+o]=(s[c+2]-e[2])/r[2];return(0,mt.default)(d,[1,3,a,n])}async function As(t,e){return typeof t=="string"&&(t=Cs(t,e.publicPath),t=new URL(t)),t instanceof URL&&(t=await(await fetch(t,{})).blob()),(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t=new Blob([t])),t instanceof Blob&&(t=await ws(t)),t}function Os(t){const e=new Uint8Array(t.data.length);for(let r=0;r<t.data.length;r++)e[r]=t.data[r]*255;return(0,mt.default)(e,t.shape)}function Ut(t,e){let r;if(typeof OffscreenCanvas<"u"?r=new OffscreenCanvas(t,e):r=document.createElement("canvas"),!r)throw new Error("Canvas nor OffscreenCanvas are available in the current context.");return r}var Is=Je(Ye()),Lt=async()=>navigator.gpu===void 0?!1:await navigator.gpu.requestAdapter()!==null,Es=()=>navigator.hardwareConcurrency??4;async function Ct(t,e){return URL.createObjectURL(await Vt(t,e))}async function Vt(t,e){const r=new URL("resources.json",e.publicPath),s=await fetch(r);if(!s.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");const n=(await s.json())[t];if(!n)throw new Error(`Resource ${t} not found. Ensure that the config.publicPath is configured correctly.`);const i=n.chunks;let o=0;const d=i.map(async g=>{const y=g.offsets[1]-g.offsets[0],m=e.publicPath?new URL(g.name,e.publicPath).toString():g.name,x=await(await fetch(m,e.fetchArgs)).blob();if(y!==x.size)throw new Error(`Failed to fetch ${t} with size ${y} but got ${x.size}`);return e.progress&&(o+=y,e.progress(`fetch:${t}`,o,n.size)),x}),c=await Promise.all(d),p=new Blob(c,{type:n.mime});if(p.size!==n.size)throw new Error(`Failed to fetch ${t} with size ${n.size} but got ${p.size}`);return p}var ge=null,Ft=async t=>(ge!==null||(t?ge=(await yt(async()=>{const{default:e}=await import("./ort.webgpu.bundle.min-tUYEXOOI.js");return{default:e}},[])).default:ge=(await yt(async()=>{const{default:e}=await import("./ort.bundle.min-BV7VIkvy.js");return{default:e}},[])).default),ge);async function Rs(t,e){const r=e.device==="gpu"&&await Lt(),s=r&&e.proxyToWorker,a=[r?"webgpu":"wasm"],n=await Ft(r);e.debug&&(console.debug("	Using WebGPU:",r),console.debug("	Proxy to Worker:",s),n.env.debug=!0,n.env.logLevel="verbose"),n.env.wasm.numThreads=Es(),n.env.wasm.proxy=s;const i=r?"/onnxruntime-web/ort-wasm-simd-threaded.jsep":"/onnxruntime-web/ort-wasm-simd-threaded",o=await Ct(`${i}.wasm`,e),d=await Ct(`${i}.mjs`,e);n.env.wasm.wasmPaths={mjs:d,wasm:o},e.debug&&console.debug("ort.env.wasm:",n.env.wasm);const c={executionProviders:a,graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await n.InferenceSession.create(t,c).catch(g=>{throw new Error(`Failed to create session: "${g}". Please check if the publicPath is set correctly.`)})}async function Zs(t,e,r,s){const a=s.device==="gpu"&&await Lt(),n=await Ft(a),i={};for(const[c,p]of e)i[c]=new n.Tensor("float32",new Float32Array(p.data),p.shape);const o=await t.run(i,{}),d=[];for(const c of r){const p=o[c],g=p.dims,y=p.data,m=(0,Is.default)(y,g);d.push(m)}return d}var T;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const n={};for(const i of a)n[i]=i;return n},t.getValidEnumValues=a=>{const n=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of n)i[o]=a[o];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(n){return a[n]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const n=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.push(i);return n},t.find=(a,n)=>{for(const i of a)if(n(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,n=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}t.joinValues=s,t.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(T||(T={}));var at;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(at||(at={}));var h=T.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),G=t=>{switch(typeof t){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(t)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":return Array.isArray(t)?h.array:t===null?h.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?h.promise:typeof Map<"u"&&t instanceof Map?h.map:typeof Set<"u"&&t instanceof Set?h.set:typeof Date<"u"&&t instanceof Date?h.date:h.object;default:return h.unknown}},l=T.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ps=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),V=class Bt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(n){return n.message},s={_errors:[]},a=n=>{for(const i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)s._errors.push(r(i));else{let o=s,d=0;for(;d<i.path.length;){const c=i.path[d];d===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(i))):o[c]=o[c]||{_errors:[]},o=o[c],d++}}};return a(this),s}static assert(e){if(!(e instanceof Bt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,T.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};V.create=t=>new V(t);var oe=(t,e)=>{let r;switch(t.code){case l.invalid_type:t.received===h.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case l.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,T.jsonStringifyReplacer)}`;break;case l.unrecognized_keys:r=`Unrecognized key(s) in object: ${T.joinValues(t.keys,", ")}`;break;case l.invalid_union:r="Invalid input";break;case l.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${T.joinValues(t.options)}`;break;case l.invalid_enum_value:r=`Invalid enum value. Expected ${T.joinValues(t.options)}, received '${t.received}'`;break;case l.invalid_arguments:r="Invalid function arguments";break;case l.invalid_return_type:r="Invalid function return type";break;case l.invalid_date:r="Invalid date";break;case l.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:T.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case l.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case l.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case l.custom:r="Invalid input";break;case l.invalid_intersection_types:r="Intersection results could not be merged";break;case l.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case l.not_finite:r="Number must be finite";break;default:r=e.defaultError,T.assertNever(t)}return{message:r}},Wt=oe;function Ms(t){Wt=t}function Le(){return Wt}var Ve=t=>{const{data:e,path:r,errorMaps:s,issueData:a}=t,n=[...r,...a.path||[]],i={...a,path:n};if(a.message!==void 0)return{...a,path:n,message:a.message};let o="";const d=s.filter(c=>!!c).slice().reverse();for(const c of d)o=c(i,{data:e,defaultError:o}).message;return{...a,path:n,message:o}},$s=[];function f(t,e){const r=Le(),s=Ve({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===oe?void 0:oe].filter(a=>!!a)});t.common.issues.push(s)}var z=class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const a of r){if(a.status==="aborted")return w;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const a of r){const n=await a.key,i=await a.value;s.push({key:n,value:i})}return qt.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const a of r){const{key:n,value:i}=a;if(n.status==="aborted"||i.status==="aborted")return w;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(s[n.value]=i.value)}return{status:e.value,value:s}}},w=Object.freeze({status:"aborted"}),ie=t=>({status:"dirty",value:t}),M=t=>({status:"valid",value:t}),st=t=>t.status==="aborted",nt=t=>t.status==="dirty",ee=t=>t.status==="valid",we=t=>typeof Promise<"u"&&t instanceof Promise;function Fe(t,e,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Gt(t,e,r,s,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var _;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(_||(_={}));var ye,_e,W=class{constructor(t,e,r,s){this._cachedPath=[],this.parent=t,this.data=e,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Nt=(t,e)=>{if(ee(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new V(t.common.issues);return this._error=r,this._error}}};function k(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,o)=>{var d,c;const{message:p}=t;return i.code==="invalid_enum_value"?{message:p??o.defaultError}:typeof o.data>"u"?{message:(d=p??s)!==null&&d!==void 0?d:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(c=p??r)!==null&&c!==void 0?c:o.defaultError}},description:a}}var C=class{get description(){return this._def.description}_getType(t){return G(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:G(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new z,ctx:{common:t.parent.common,data:t.data,parsedType:G(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(we(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const r=this.safeParse(t,e);if(r.success)return r.data;throw r.error}safeParse(t,e){var r;const s={common:{issues:[],async:(r=e?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:G(t)},a=this._parseSync({data:t,path:s.path,parent:s});return Nt(s,a)}"~validate"(t){var e,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:G(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return ee(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(e=a?.message)===null||e===void 0?void 0:e.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>ee(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,e){const r=await this.safeParseAsync(t,e);if(r.success)return r.data;throw r.error}async safeParseAsync(t,e){const r={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:G(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(we(s)?s:Promise.resolve(s));return Nt(r,a)}refine(t,e){const r=s=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,a)=>{const n=t(s),i=()=>a.addIssue({code:l.custom,...r(s)});return typeof Promise<"u"&&n instanceof Promise?n.then(o=>o?!0:(i(),!1)):n?!0:(i(),!1)})}refinement(t,e){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof e=="function"?e(r,s):e),!1))}_refinement(t){return new F({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return B.create(this,this._def)}nullable(){return K.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return te.create(this)}promise(){return le.create(this,this._def)}or(t){return Ae.create([this,t],this._def)}and(t){return Oe.create(this,t,this._def)}transform(t){return new F({...k(this._def),schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new Ze({...k(this._def),innerType:this,defaultValue:e,typeName:b.ZodDefault})}brand(){return new vt({typeName:b.ZodBranded,type:this,...k(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new Pe({...k(this._def),innerType:this,catchValue:e,typeName:b.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return gt.create(this,t)}readonly(){return Me.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},zs=/^c[^\s-]{8,}$/i,Ds=/^[0-9a-z]+$/,Us=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ls=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Vs=/^[a-z0-9_-]{21}$/i,Fs=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Bs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ws=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qs="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",tt,Gs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Hs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Js=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ys=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ks=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Xs=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ht="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Qs=new RegExp(`^${Ht}$`);function Jt(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function en(t){return new RegExp(`^${Jt(t)}$`)}function Yt(t){let e=`${Ht}T${Jt(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function tn(t,e){return!!((e==="v4"||!e)&&Gs.test(t)||(e==="v6"||!e)&&Js.test(t))}function rn(t,e){if(!Fs.test(t))return!1;try{const[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function an(t,e){return!!((e==="v4"||!e)&&Hs.test(t)||(e==="v6"||!e)&&Ys.test(t))}var ce=class be extends C{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){const n=this._getOrReturnCtx(e);return f(n,{code:l.invalid_type,expected:h.string,received:n.parsedType}),w}const s=new z;let a;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:l.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="max")e.data.length>n.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:l.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="length"){const i=e.data.length>n.value,o=e.data.length<n.value;(i||o)&&(a=this._getOrReturnCtx(e,a),i?f(a,{code:l.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&f(a,{code:l.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),s.dirty())}else if(n.kind==="email")Ws.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"email",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="emoji")tt||(tt=new RegExp(qs,"u")),tt.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"emoji",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="uuid")Ls.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"uuid",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="nanoid")Vs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"nanoid",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid")zs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"cuid",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid2")Ds.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"cuid2",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="ulid")Us.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"ulid",code:l.invalid_string,message:n.message}),s.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),f(a,{validation:"url",code:l.invalid_string,message:n.message}),s.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"regex",code:l.invalid_string,message:n.message}),s.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),s.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:{startsWith:n.value},message:n.message}),s.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:{endsWith:n.value},message:n.message}),s.dirty()):n.kind==="datetime"?Yt(n).test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:"datetime",message:n.message}),s.dirty()):n.kind==="date"?Qs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:"date",message:n.message}),s.dirty()):n.kind==="time"?en(n).test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:l.invalid_string,validation:"time",message:n.message}),s.dirty()):n.kind==="duration"?Bs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"duration",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="ip"?tn(e.data,n.version)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"ip",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="jwt"?rn(e.data,n.alg)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"jwt",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="cidr"?an(e.data,n.version)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"cidr",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="base64"?Ks.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"base64",code:l.invalid_string,message:n.message}),s.dirty()):n.kind==="base64url"?Xs.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"base64url",code:l.invalid_string,message:n.message}),s.dirty()):T.assertNever(n);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:l.invalid_string,..._.errToObj(s)})}_addCheck(e){return new be({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,..._.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,..._.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",..._.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,..._.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,..._.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,..._.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,..._.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,..._.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,..._.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,..._.errToObj(r)})}nonempty(e){return this.min(1,_.errToObj(e))}trim(){return new be({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new be({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new be({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};ce.create=t=>{var e;return new ce({checks:[],typeName:b.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};function sn(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,n=parseInt(t.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return n%i/Math.pow(10,a)}var ke=class it extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){const n=this._getOrReturnCtx(e);return f(n,{code:l.invalid_type,expected:h.number,received:n.parsedType}),w}let s;const a=new z;for(const n of this._def.checks)n.kind==="int"?T.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:l.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?sn(e.data,n.value)!==0&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),f(s,{code:l.not_finite,message:n.message}),a.dirty()):T.assertNever(n);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,_.toString(r))}gt(e,r){return this.setLimit("min",e,!1,_.toString(r))}lte(e,r){return this.setLimit("max",e,!0,_.toString(r))}lt(e,r){return this.setLimit("max",e,!1,_.toString(r))}setLimit(e,r,s,a){return new it({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:_.toString(a)}]})}_addCheck(e){return new it({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:_.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&T.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};ke.create=t=>new ke({checks:[],typeName:b.ZodNumber,coerce:t?.coerce||!1,...k(t)});var je=class ot extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==h.bigint)return this._getInvalidInput(e);let s;const a=new z;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),f(s,{code:l.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):T.assertNever(n);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return f(r,{code:l.invalid_type,expected:h.bigint,received:r.parsedType}),w}gte(e,r){return this.setLimit("min",e,!0,_.toString(r))}gt(e,r){return this.setLimit("min",e,!1,_.toString(r))}lte(e,r){return this.setLimit("max",e,!0,_.toString(r))}lt(e,r){return this.setLimit("max",e,!1,_.toString(r))}setLimit(e,r,s,a){return new ot({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:_.toString(a)}]})}_addCheck(e){return new ot({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:_.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};je.create=t=>{var e;return new je({checks:[],typeName:b.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};var Ce=class extends C{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==h.boolean){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.boolean,received:r.parsedType}),w}return M(t.data)}};Ce.create=t=>new Ce({typeName:b.ZodBoolean,coerce:t?.coerce||!1,...k(t)});var Ne=class Kt extends C{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){const n=this._getOrReturnCtx(e);return f(n,{code:l.invalid_type,expected:h.date,received:n.parsedType}),w}if(isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return f(n,{code:l.invalid_date}),w}const s=new z;let a;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:l.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),s.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:l.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),s.dirty()):T.assertNever(n);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:_.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:_.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Ne.create=t=>new Ne({checks:[],coerce:t?.coerce||!1,typeName:b.ZodDate,...k(t)});var Be=class extends C{_parse(t){if(this._getType(t)!==h.symbol){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.symbol,received:r.parsedType}),w}return M(t.data)}};Be.create=t=>new Be({typeName:b.ZodSymbol,...k(t)});var Te=class extends C{_parse(t){if(this._getType(t)!==h.undefined){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.undefined,received:r.parsedType}),w}return M(t.data)}};Te.create=t=>new Te({typeName:b.ZodUndefined,...k(t)});var Se=class extends C{_parse(t){if(this._getType(t)!==h.null){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.null,received:r.parsedType}),w}return M(t.data)}};Se.create=t=>new Se({typeName:b.ZodNull,...k(t)});var de=class extends C{constructor(){super(...arguments),this._any=!0}_parse(t){return M(t.data)}};de.create=t=>new de({typeName:b.ZodAny,...k(t)});var Q=class extends C{constructor(){super(...arguments),this._unknown=!0}_parse(t){return M(t.data)}};Q.create=t=>new Q({typeName:b.ZodUnknown,...k(t)});var H=class extends C{_parse(t){const e=this._getOrReturnCtx(t);return f(e,{code:l.invalid_type,expected:h.never,received:e.parsedType}),w}};H.create=t=>new H({typeName:b.ZodNever,...k(t)});var We=class extends C{_parse(t){if(this._getType(t)!==h.undefined){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.void,received:r.parsedType}),w}return M(t.data)}};We.create=t=>new We({typeName:b.ZodVoid,...k(t)});var te=class ze extends C{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==h.array)return f(r,{code:l.invalid_type,expected:h.array,received:r.parsedType}),w;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(i||o)&&(f(r,{code:i?l.too_big:l.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(f(r,{code:l.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(f(r,{code:l.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>a.type._parseAsync(new W(r,i,r.path,o)))).then(i=>z.mergeArray(s,i));const n=[...r.data].map((i,o)=>a.type._parseSync(new W(r,i,r.path,o)));return z.mergeArray(s,n)}get element(){return this._def.type}min(e,r){return new ze({...this._def,minLength:{value:e,message:_.toString(r)}})}max(e,r){return new ze({...this._def,maxLength:{value:e,message:_.toString(r)}})}length(e,r){return new ze({...this._def,exactLength:{value:e,message:_.toString(r)}})}nonempty(e){return this.min(1,e)}};te.create=(t,e)=>new te({type:t,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray,...k(e)});function ne(t){if(t instanceof D){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=B.create(ne(s))}return new D({...t._def,shape:()=>e})}else return t instanceof te?new te({...t._def,type:ne(t.element)}):t instanceof B?B.create(ne(t.unwrap())):t instanceof K?K.create(ne(t.unwrap())):t instanceof Y?Y.create(t.items.map(e=>ne(e))):t}var D=class L extends C{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=T.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==h.object){const c=this._getOrReturnCtx(e);return f(c,{code:l.invalid_type,expected:h.object,received:c.parsedType}),w}const{status:s,ctx:a}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof H&&this._def.unknownKeys==="strip"))for(const c in a.data)i.includes(c)||o.push(c);const d=[];for(const c of i){const p=n[c],g=a.data[c];d.push({key:{status:"valid",value:c},value:p._parse(new W(a,g,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof H){const c=this._def.unknownKeys;if(c==="passthrough")for(const p of o)d.push({key:{status:"valid",value:p},value:{status:"valid",value:a.data[p]}});else if(c==="strict")o.length>0&&(f(a,{code:l.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const p of o){const g=a.data[p];d.push({key:{status:"valid",value:p},value:c._parse(new W(a,g,a.path,p)),alwaysSet:p in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const p of d){const g=await p.key,y=await p.value;c.push({key:g,value:y,alwaysSet:p.alwaysSet})}return c}).then(c=>z.mergeObjectSync(s,c)):z.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(e){return _.errToObj,new L({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var a,n,i,o;const d=(i=(n=(a=this._def).errorMap)===null||n===void 0?void 0:n.call(a,r,s).message)!==null&&i!==void 0?i:s.defaultError;return r.code==="unrecognized_keys"?{message:(o=_.errToObj(e).message)!==null&&o!==void 0?o:d}:{message:d}}}:{}})}strip(){return new L({...this._def,unknownKeys:"strip"})}passthrough(){return new L({...this._def,unknownKeys:"passthrough"})}extend(e){return new L({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new L({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:b.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new L({...this._def,catchall:e})}pick(e){const r={};return T.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new L({...this._def,shape:()=>r})}omit(e){const r={};return T.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new L({...this._def,shape:()=>r})}deepPartial(){return ne(this)}partial(e){const r={};return T.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}),new L({...this._def,shape:()=>r})}required(e){const r={};return T.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let n=this.shape[s];for(;n instanceof B;)n=n._def.innerType;r[s]=n}}),new L({...this._def,shape:()=>r})}keyof(){return ar(T.objectKeys(this.shape))}};D.create=(t,e)=>new D({shape:()=>t,unknownKeys:"strip",catchall:H.create(),typeName:b.ZodObject,...k(e)});D.strictCreate=(t,e)=>new D({shape:()=>t,unknownKeys:"strict",catchall:H.create(),typeName:b.ZodObject,...k(e)});D.lazycreate=(t,e)=>new D({shape:t,unknownKeys:"strip",catchall:H.create(),typeName:b.ZodObject,...k(e)});var Ae=class extends C{_parse(t){const{ctx:e}=this._processInputParams(t),r=this._def.options;function s(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return e.common.issues.push(...i.ctx.common.issues),i.result;const n=a.map(i=>new V(i.ctx.common.issues));return f(e,{code:l.invalid_union,unionErrors:n}),w}if(e.common.async)return Promise.all(r.map(async a=>{const n={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:n}),ctx:n}})).then(s);{let a;const n=[];for(const o of r){const d={...e,common:{...e.common,issues:[]},parent:null},c=o._parseSync({data:e.data,path:e.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:d}),d.common.issues.length&&n.push(d.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;const i=n.map(o=>new V(o));return f(e,{code:l.invalid_union,unionErrors:i}),w}}get options(){return this._def.options}};Ae.create=(t,e)=>new Ae({options:t,typeName:b.ZodUnion,...k(e)});var q=t=>t instanceof Ie?q(t.schema):t instanceof F?q(t.innerType()):t instanceof Ee?[t.value]:t instanceof $e?t.options:t instanceof Re?T.objectValues(t.enum):t instanceof Ze?q(t._def.innerType):t instanceof Te?[void 0]:t instanceof Se?[null]:t instanceof B?[void 0,...q(t.unwrap())]:t instanceof K?[null,...q(t.unwrap())]:t instanceof vt||t instanceof Me?q(t.unwrap()):t instanceof Pe?q(t._def.innerType):[],Xt=class Qt extends C{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==h.object)return f(r,{code:l.invalid_type,expected:h.object,received:r.parsedType}),w;const s=this.discriminator,a=r.data[s],n=this.optionsMap.get(a);return n?r.common.async?n._parseAsync({data:r.data,path:r.path,parent:r}):n._parseSync({data:r.data,path:r.path,parent:r}):(f(r,{code:l.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),w)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const a=new Map;for(const n of r){const i=q(n.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,n)}}return new Qt({typeName:b.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...k(s)})}};function ct(t,e){const r=G(t),s=G(e);if(t===e)return{valid:!0,data:t};if(r===h.object&&s===h.object){const a=T.objectKeys(e),n=T.objectKeys(t).filter(o=>a.indexOf(o)!==-1),i={...t,...e};for(const o of n){const d=ct(t[o],e[o]);if(!d.valid)return{valid:!1};i[o]=d.data}return{valid:!0,data:i}}else if(r===h.array&&s===h.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let n=0;n<t.length;n++){const i=t[n],o=e[n],d=ct(i,o);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return r===h.date&&s===h.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Oe=class extends C{_parse(t){const{status:e,ctx:r}=this._processInputParams(t),s=(a,n)=>{if(st(a)||st(n))return w;const i=ct(a.value,n.value);return i.valid?((nt(a)||nt(n))&&e.dirty(),{status:e.value,value:i.data}):(f(r,{code:l.invalid_intersection_types}),w)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,n])=>s(a,n)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Oe.create=(t,e,r)=>new Oe({left:t,right:e,typeName:b.ZodIntersection,...k(r)});var Y=class er extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==h.array)return f(s,{code:l.invalid_type,expected:h.array,received:s.parsedType}),w;if(s.data.length<this._def.items.length)return f(s,{code:l.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w;!this._def.rest&&s.data.length>this._def.items.length&&(f(s,{code:l.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const n=[...s.data].map((i,o)=>{const d=this._def.items[o]||this._def.rest;return d?d._parse(new W(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(n).then(i=>z.mergeArray(r,i)):z.mergeArray(r,n)}get items(){return this._def.items}rest(e){return new er({...this._def,rest:e})}};Y.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Y({items:t,typeName:b.ZodTuple,rest:null,...k(e)})};var tr=class dt extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==h.object)return f(s,{code:l.invalid_type,expected:h.object,received:s.parsedType}),w;const a=[],n=this._def.keyType,i=this._def.valueType;for(const o in s.data)a.push({key:n._parse(new W(s,o,s.path,o)),value:i._parse(new W(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?z.mergeObjectAsync(r,a):z.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof C?new dt({keyType:e,valueType:r,typeName:b.ZodRecord,...k(s)}):new dt({keyType:ce.create(),valueType:e,typeName:b.ZodRecord,...k(r)})}},qe=class extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:r}=this._processInputParams(t);if(r.parsedType!==h.map)return f(r,{code:l.invalid_type,expected:h.map,received:r.parsedType}),w;const s=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([i,o],d)=>({key:s._parse(new W(r,i,r.path,[d,"key"])),value:a._parse(new W(r,o,r.path,[d,"value"]))}));if(r.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const o of n){const d=await o.key,c=await o.value;if(d.status==="aborted"||c.status==="aborted")return w;(d.status==="dirty"||c.status==="dirty")&&e.dirty(),i.set(d.value,c.value)}return{status:e.value,value:i}})}else{const i=new Map;for(const o of n){const d=o.key,c=o.value;if(d.status==="aborted"||c.status==="aborted")return w;(d.status==="dirty"||c.status==="dirty")&&e.dirty(),i.set(d.value,c.value)}return{status:e.value,value:i}}}};qe.create=(t,e,r)=>new qe({valueType:e,keyType:t,typeName:b.ZodMap,...k(r)});var Ge=class lt extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==h.set)return f(s,{code:l.invalid_type,expected:h.set,received:s.parsedType}),w;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(f(s,{code:l.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(f(s,{code:l.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const n=this._def.valueType;function i(d){const c=new Set;for(const p of d){if(p.status==="aborted")return w;p.status==="dirty"&&r.dirty(),c.add(p.value)}return{status:r.value,value:c}}const o=[...s.data.values()].map((d,c)=>n._parse(new W(s,d,s.path,c)));return s.common.async?Promise.all(o).then(d=>i(d)):i(o)}min(e,r){return new lt({...this._def,minSize:{value:e,message:_.toString(r)}})}max(e,r){return new lt({...this._def,maxSize:{value:e,message:_.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ge.create=(t,e)=>new Ge({valueType:t,minSize:null,maxSize:null,typeName:b.ZodSet,...k(e)});var rr=class De extends C{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==h.function)return f(r,{code:l.invalid_type,expected:h.function,received:r.parsedType}),w;function s(o,d){return Ve({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Le(),oe].filter(c=>!!c),issueData:{code:l.invalid_arguments,argumentsError:d}})}function a(o,d){return Ve({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Le(),oe].filter(c=>!!c),issueData:{code:l.invalid_return_type,returnTypeError:d}})}const n={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof le){const o=this;return M(async function(...d){const c=new V([]),p=await o._def.args.parseAsync(d,n).catch(m=>{throw c.addIssue(s(d,m)),c}),g=await Reflect.apply(i,this,p);return await o._def.returns._def.type.parseAsync(g,n).catch(m=>{throw c.addIssue(a(g,m)),c})})}else{const o=this;return M(function(...d){const c=o._def.args.safeParse(d,n);if(!c.success)throw new V([s(d,c.error)]);const p=Reflect.apply(i,this,c.data),g=o._def.returns.safeParse(p,n);if(!g.success)throw new V([a(p,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new De({...this._def,args:Y.create(e).rest(Q.create())})}returns(e){return new De({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new De({args:e||Y.create([]).rest(Q.create()),returns:r||Q.create(),typeName:b.ZodFunction,...k(s)})}},Ie=class extends C{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};Ie.create=(t,e)=>new Ie({getter:t,typeName:b.ZodLazy,...k(e)});var Ee=class extends C{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return f(e,{received:e.data,code:l.invalid_literal,expected:this._def.value}),w}return{status:"valid",value:t.data}}get value(){return this._def.value}};Ee.create=(t,e)=>new Ee({value:t,typeName:b.ZodLiteral,...k(e)});function ar(t,e){return new $e({values:t,typeName:b.ZodEnum,...k(e)})}var $e=class ut extends C{constructor(){super(...arguments),ye.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return f(r,{expected:T.joinValues(s),received:r.parsedType,code:l.invalid_type}),w}if(Fe(this,ye)||Gt(this,ye,new Set(this._def.values)),!Fe(this,ye).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return f(r,{received:r.data,code:l.invalid_enum_value,options:s}),w}return M(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ut.create(e,{...this._def,...r})}exclude(e,r=this._def){return ut.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};ye=new WeakMap;$e.create=ar;var Re=class extends C{constructor(){super(...arguments),_e.set(this,void 0)}_parse(t){const e=T.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==h.string&&r.parsedType!==h.number){const s=T.objectValues(e);return f(r,{expected:T.joinValues(s),received:r.parsedType,code:l.invalid_type}),w}if(Fe(this,_e)||Gt(this,_e,new Set(T.getValidEnumValues(this._def.values))),!Fe(this,_e).has(t.data)){const s=T.objectValues(e);return f(r,{received:r.data,code:l.invalid_enum_value,options:s}),w}return M(t.data)}get enum(){return this._def.values}};_e=new WeakMap;Re.create=(t,e)=>new Re({values:t,typeName:b.ZodNativeEnum,...k(e)});var le=class extends C{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==h.promise&&e.common.async===!1)return f(e,{code:l.invalid_type,expected:h.promise,received:e.parsedType}),w;const r=e.parsedType===h.promise?e.data:Promise.resolve(e.data);return M(r.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}};le.create=(t,e)=>new le({type:t,typeName:b.ZodPromise,...k(e)});var F=class extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:n=>{f(r,n),n.fatal?e.abort():e.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const n=s.transform(r.data,a);if(r.common.async)return Promise.resolve(n).then(async i=>{if(e.value==="aborted")return w;const o=await this._def.schema._parseAsync({data:i,path:r.path,parent:r});return o.status==="aborted"?w:o.status==="dirty"||e.value==="dirty"?ie(o.value):o});{if(e.value==="aborted")return w;const i=this._def.schema._parseSync({data:n,path:r.path,parent:r});return i.status==="aborted"?w:i.status==="dirty"||e.value==="dirty"?ie(i.value):i}}if(s.type==="refinement"){const n=i=>{const o=s.refinement(i,a);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?w:(i.status==="dirty"&&e.dirty(),n(i.value),{status:e.value,value:i.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>i.status==="aborted"?w:(i.status==="dirty"&&e.dirty(),n(i.value).then(()=>({status:e.value,value:i.value}))))}if(s.type==="transform")if(r.common.async===!1){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ee(n))return n;const i=s.transform(n.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:i}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(n=>ee(n)?Promise.resolve(s.transform(n.value,a)).then(i=>({status:e.value,value:i})):n);T.assertNever(s)}};F.create=(t,e,r)=>new F({schema:t,typeName:b.ZodEffects,effect:e,...k(r)});F.createWithPreprocess=(t,e,r)=>new F({schema:e,effect:{type:"preprocess",transform:t},typeName:b.ZodEffects,...k(r)});var B=class extends C{_parse(t){return this._getType(t)===h.undefined?M(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};B.create=(t,e)=>new B({innerType:t,typeName:b.ZodOptional,...k(e)});var K=class extends C{_parse(t){return this._getType(t)===h.null?M(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};K.create=(t,e)=>new K({innerType:t,typeName:b.ZodNullable,...k(e)});var Ze=class extends C{_parse(t){const{ctx:e}=this._processInputParams(t);let r=e.data;return e.parsedType===h.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};Ze.create=(t,e)=>new Ze({innerType:t,typeName:b.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...k(e)});var Pe=class extends C{_parse(t){const{ctx:e}=this._processInputParams(t),r={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return we(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new V(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new V(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Pe.create=(t,e)=>new Pe({innerType:t,typeName:b.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...k(e)});var He=class extends C{_parse(t){if(this._getType(t)!==h.nan){const r=this._getOrReturnCtx(t);return f(r,{code:l.invalid_type,expected:h.nan,received:r.parsedType}),w}return{status:"valid",value:t.data}}};He.create=t=>new He({typeName:b.ZodNaN,...k(t)});var nn=Symbol("zod_brand"),vt=class extends C{_parse(t){const{ctx:e}=this._processInputParams(t),r=e.data;return this._def.type._parse({data:r,path:e.path,parent:e})}unwrap(){return this._def.type}},gt=class sr extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?w:n.status==="dirty"?(r.dirty(),ie(n.value)):this._def.out._parseAsync({data:n.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?w:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new sr({in:e,out:r,typeName:b.ZodPipeline})}},Me=class extends C{_parse(t){const e=this._def.innerType._parse(t),r=s=>(ee(s)&&(s.value=Object.freeze(s.value)),s);return we(e)?e.then(s=>r(s)):r(e)}unwrap(){return this._def.innerType}};Me.create=(t,e)=>new Me({innerType:t,typeName:b.ZodReadonly,...k(e)});function Tt(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function nr(t,e={},r){return t?de.create().superRefine((s,a)=>{var n,i;const o=t(s);if(o instanceof Promise)return o.then(d=>{var c,p;if(!d){const g=Tt(e,s),y=(p=(c=g.fatal)!==null&&c!==void 0?c:r)!==null&&p!==void 0?p:!0;a.addIssue({code:"custom",...g,fatal:y})}});if(!o){const d=Tt(e,s),c=(i=(n=d.fatal)!==null&&n!==void 0?n:r)!==null&&i!==void 0?i:!0;a.addIssue({code:"custom",...d,fatal:c})}}):de.create()}var on={object:D.lazycreate},b;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(b||(b={}));var cn=(t,e={message:`Input not instance of ${t.name}`})=>nr(r=>r instanceof t,e),ir=ce.create,or=ke.create,dn=He.create,ln=je.create,cr=Ce.create,un=Ne.create,fn=Be.create,hn=Te.create,pn=Se.create,mn=de.create,vn=Q.create,gn=H.create,yn=We.create,_n=te.create,bn=D.create,xn=D.strictCreate,wn=Ae.create,kn=Xt.create,jn=Oe.create,Cn=Y.create,Nn=tr.create,Tn=qe.create,Sn=Ge.create,An=rr.create,On=Ie.create,In=Ee.create,En=$e.create,Rn=Re.create,Zn=le.create,St=F.create,Pn=B.create,Mn=K.create,$n=F.createWithPreprocess,zn=gt.create,Dn=()=>ir().optional(),Un=()=>or().optional(),Ln=()=>cr().optional(),Vn={string:t=>ce.create({...t,coerce:!0}),number:t=>ke.create({...t,coerce:!0}),boolean:t=>Ce.create({...t,coerce:!0}),bigint:t=>je.create({...t,coerce:!0}),date:t=>Ne.create({...t,coerce:!0})},Fn=w,Z=Object.freeze({__proto__:null,defaultErrorMap:oe,setErrorMap:Ms,getErrorMap:Le,makeIssue:Ve,EMPTY_PATH:$s,addIssueToContext:f,ParseStatus:z,INVALID:w,DIRTY:ie,OK:M,isAborted:st,isDirty:nt,isValid:ee,isAsync:we,get util(){return T},get objectUtil(){return at},ZodParsedType:h,getParsedType:G,ZodType:C,datetimeRegex:Yt,ZodString:ce,ZodNumber:ke,ZodBigInt:je,ZodBoolean:Ce,ZodDate:Ne,ZodSymbol:Be,ZodUndefined:Te,ZodNull:Se,ZodAny:de,ZodUnknown:Q,ZodNever:H,ZodVoid:We,ZodArray:te,ZodObject:D,ZodUnion:Ae,ZodDiscriminatedUnion:Xt,ZodIntersection:Oe,ZodTuple:Y,ZodRecord:tr,ZodMap:qe,ZodSet:Ge,ZodFunction:rr,ZodLazy:Ie,ZodLiteral:Ee,ZodEnum:$e,ZodNativeEnum:Re,ZodPromise:le,ZodEffects:F,ZodTransformer:F,ZodOptional:B,ZodNullable:K,ZodDefault:Ze,ZodCatch:Pe,ZodNaN:He,BRAND:nn,ZodBranded:vt,ZodPipeline:gt,ZodReadonly:Me,custom:nr,Schema:C,ZodSchema:C,late:on,get ZodFirstPartyTypeKind(){return b},coerce:Vn,any:mn,array:_n,bigint:ln,boolean:cr,date:un,discriminatedUnion:kn,effect:St,enum:En,function:An,instanceof:cn,intersection:jn,lazy:On,literal:In,map:Tn,nan:dn,nativeEnum:Rn,never:gn,null:pn,nullable:Mn,number:or,object:bn,oboolean:Ln,onumber:Un,optional:Pn,ostring:Dn,pipeline:zn,preprocess:$n,promise:Zn,record:Nn,set:Sn,strictObject:xn,string:ir,symbol:fn,transformer:St,tuple:Cn,undefined:hn,union:wn,unknown:vn,void:yn,NEVER:Fn,ZodIssueCode:l,quotelessJson:Ps,ZodError:V}),At={name:"@imgly/background-removal",version:"1.7.0"},Bn=Z.object({publicPath:Z.string().optional().describe("The public path to the wasm files and the onnx model.").default("https://staticimgly.com/@imgly/background-removal-data/${PACKAGE_VERSION}/dist/").transform(t=>t.replace("${PACKAGE_NAME}",At.name).replace("${PACKAGE_VERSION}",At.version)),debug:Z.boolean().default(!1).describe("Whether to enable debug logging."),rescale:Z.boolean().default(!0).describe("Whether to rescale the image."),device:Z.enum(["cpu","gpu"]).default("cpu").describe("The device to run the model on."),proxyToWorker:Z.boolean().default(!1).describe("Whether to proxy inference to a web worker."),fetchArgs:Z.any().default({}).describe("Arguments to pass to fetch when loading the model."),progress:Z.function().args(Z.string(),Z.number(),Z.number()).returns(Z.void()).describe("Progress callback.").optional(),model:Z.preprocess(t=>{switch(t){case"large":return"isnet";case"small":return"isnet_quint8";case"medium":return"isnet_fp16";default:return t}},Z.enum(["isnet","isnet_fp16","isnet_quint8"])).default("medium"),output:Z.object({format:Z.enum(["image/png","image/jpeg","image/webp","image/x-rgba8","image/x-alpha8"]).default("image/png"),quality:Z.number().default(.8)}).default({})}).default({}).transform(t=>(t.debug&&console.log("Config:",t),t.debug&&!t.progress&&(t.progress=t.progress??((e,r,s)=>{console.debug(`Downloading ${e}: ${r} of ${s}`)}),crossOriginIsolated||t.debug&&console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),t));function Wn(t){return Bn.parse(t??{})}var qn=Je(Ye());async function Gn(t){t.debug&&console.debug("Loading model...",t.model);const e=t.model,s=await(await Vt(`/models/${e}`,t)).arrayBuffer();return await Rs(s,t)}async function Hn(t){t=Wn(t);const e=await Gn(t);return{config:t,session:{base:e}}}async function Jn(t,e,r){const[a,n,i]=t.shape,o=!1;let d=jt(t,1024,1024,o);const c=Ss(d);let p=await Zs(r.base,[["input",c]],["output"],e),g=(0,qn.default)(p[0].data,[1024,1024,1]),y=Os(g);return e.rescale?(y=jt(y,n,a,o),[y,t]):[y,d]}var Yn=xs(Hn,t=>JSON.stringify(t));async function Kn(t,e){const{config:r,session:s}=await Yn(e);r.progress&&r.progress("compute:decode",0,4);const a=await As(t,r);r.progress?.("compute:inference",1,4);const[n,i]=await Jn(a,r,s);r.progress?.("compute:mask",2,4);const o=i,[d,c]=o.shape,p=d*c;for(let y=0;y<p;y+=1)o.data[4*y+3]=n.data[y];r.progress?.("compute:encode",3,4);const g=await ks(o,r.output.quality,r.output.format);return r.progress?.("compute:encode",4,4),g}const Xn="https://glacial-samiyah-presutural.ngrok-free.dev",Qn=["image/jpeg","image/png","image/jpg"],ii=()=>{const t=dr(),[e,r]=U.useState({idNumber:"",firstName:"",middleInitial:"",lastName:"",course:"",address:"",guardianName:"",guardianContact:"",id_picture:null,signature_picture:null}),[s,a]=U.useState(!1),[n,i]=U.useState("idle"),[o,d]=U.useState(""),[c,p]=U.useState(!1),[g,y]=U.useState("idle"),[m,A]=U.useState(null),[x,N]=U.useState(null),[O,P]=U.useState(!1),[$,E]=U.useState(""),X=!e.idNumber||!e.firstName||!e.lastName||!e.id_picture||!e.signature_picture,re=async(S,I)=>{const v=S.target.files?.[0];if(!(!v||!Qn.includes(v.type)))if(r(R=>({...R,[I]:v})),I==="id_picture"){P(!0);try{const R=await Kn(v);A(URL.createObjectURL(R))}catch(R){console.warn("Local BG removal failed, showing raw",R),A(URL.createObjectURL(v))}finally{P(!1)}}else N(URL.createObjectURL(v))},j=async(S,I)=>{const v=await new Promise(me=>{const se=new FileReader;se.onload=()=>me(se.result),se.readAsDataURL(S)}),R=await pr.post(`${Xn}/process_and_return`,{photo:v,type:I},{responseType:"blob",timeout:12e4});return new File([R.data],`processed_${I==="id_picture"?"id":"sig"}.webp`,{type:"image/webp"})},ae=async S=>{if(S.preventDefault(),!(X||!e.id_picture||!e.signature_picture)){p(!0),y("enhancing");try{const[I,v]=await Promise.all([j(e.id_picture,"id_picture"),j(e.signature_picture,"signature_picture")]);y("uploading"),await fr();const R=new FormData;Object.entries(e).forEach(([me,se])=>{me!=="id_picture"&&me!=="signature_picture"&&se!==null&&R.append(me,se)}),R.append("id_picture",I),R.append("signature_picture",v),await hr.post("/students",R,{headers:{"Content-Type":"multipart/form-data"}}),E("success"),window.scrollTo({top:0,behavior:"smooth"})}catch(I){console.error("Submission/Enhancement Error:",I),E("error")}finally{p(!1),y("idle")}}};return U.useEffect(()=>{if(e.idNumber.length>=8){const S=setTimeout(async()=>{a(!0);try{const I=await mr(e.idNumber);if(I.valid){i("valid");const v=I.data;r(R=>({...R,firstName:v.firstName||"",middleInitial:v.middleName?v.middleName.charAt(0).toUpperCase():"",lastName:v.lastName||"",course:v.course||R.course}))}}catch{i("invalid"),d("ID Not Found")}finally{a(!1)}},800);return()=>clearTimeout(S)}},[e.idNumber]),u.jsxs("div",{className:"min-h-screen bg-[#f1f5f9] font-sans pb-20",children:[u.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-2xl border-b border-slate-200 px-4 md:px-10 py-4",children:u.jsxs("div",{className:"max-w-[1440px] mx-auto flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-3 text-slate-600 font-bold group",children:[u.jsx("div",{className:"p-2.5 bg-slate-100 group-hover:bg-teal-50 rounded-2xl transition-colors",children:u.jsx(vr,{size:22})}),u.jsx("span",{className:"hidden md:inline-block text-sm",children:"Exit"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-[10px] font-black tracking-[0.3em] text-teal-600 uppercase",children:"NCnian School ID"}),u.jsx("p",{className:"text-sm lg:text-xl font-black text-slate-900 uppercase",children:"Profile Details"})]}),u.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-slate-400 bg-slate-50 px-4 py-2 rounded-2xl border border-slate-100",children:[u.jsx(gr,{size:16}),u.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:"Secure Link"})]})]})}),u.jsxs(_t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto mt-8 px-4",children:[u.jsx(lr,{children:$==="success"&&u.jsxs(_t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-6 p-6 rounded-[2rem] border shadow-sm flex items-center justify-between bg-emerald-50 border-emerald-200 text-emerald-700",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Et,{size:20}),u.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Application Submitted Successfully!"})]}),u.jsx("button",{onClick:()=>t("/"),className:"bg-emerald-600 text-white px-6 py-2 rounded-xl text-xs font-bold",children:"Return Home"})]})}),u.jsxs("form",{onSubmit:ae,className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[u.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[u.jsxs(Ot,{icon:u.jsx(br,{}),title:"Academic Standing",subtitle:"Verified Student Identity",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(J,{label:"ID Number",value:e.idNumber,onChange:S=>r({...e,idNumber:S}),status:n,isLoading:s}),u.jsx(J,{label:"Course",value:e.course,onChange:S=>r({...e,course:S})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mt-6",children:[u.jsx("div",{className:"md:col-span-2",children:u.jsx(J,{label:"Given Name",value:e.firstName,onChange:S=>r({...e,firstName:S})})}),u.jsx("div",{className:"md:col-span-1",children:u.jsx(J,{label:"M.I.",value:e.middleInitial,onChange:S=>r({...e,middleInitial:S})})}),u.jsx("div",{className:"md:col-span-2",children:u.jsx(J,{label:"Surname",value:e.lastName,onChange:S=>r({...e,lastName:S})})})]})]}),u.jsxs(Ot,{icon:u.jsx(ur,{}),title:"Personal Information",subtitle:"Contact & Residence",children:[u.jsx(J,{label:"Complete Address",value:e.address,onChange:S=>r({...e,address:S}),isTextArea:!0}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[u.jsx(J,{label:"Guardian Name",value:e.guardianName,onChange:S=>r({...e,guardianName:S})}),u.jsx(J,{label:"Guardian Contact Number",value:e.guardianContact,onChange:S=>r({...e,guardianContact:S})})]})]})]}),u.jsx("div",{className:"lg:col-span-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-xl border border-slate-100 space-y-10 sticky top-28",children:[u.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest text-center",children:"Identity Assets"}),u.jsxs("div",{className:"space-y-4 text-center",children:[u.jsxs("div",{className:"relative mx-auto w-44 h-44 group",children:[u.jsx("div",{className:`w-full h-full rounded-[3rem] bg-slate-50 border-2 border-dashed flex flex-col items-center justify-center overflow-hidden transition-all duration-500 ${O?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-teal-300"}`,children:O?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Tr,{className:"animate-spin text-teal-600",size:32}),u.jsx("span",{className:"text-[9px] font-black text-teal-800 uppercase",children:"Extracting..."})]}):m?u.jsx("img",{src:m,className:"w-full h-full object-cover"}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(jr,{size:44,className:"text-slate-300"}),u.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Photo Required"})]})}),u.jsx("input",{type:"file",id:"id-p",hidden:!0,onChange:S=>re(S,"id_picture"),disabled:c}),u.jsx("label",{htmlFor:"id-p",className:"absolute -bottom-2 -right-2 p-4 bg-teal-600 text-white rounded-2xl cursor-pointer shadow-xl hover:scale-110 active:scale-90",children:u.jsx(wr,{size:20})})]}),u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Student Photo (2x2)"})]}),u.jsxs("div",{className:"space-y-4 text-center",children:[u.jsxs("div",{className:"relative mx-auto w-full h-28 group",children:[u.jsx("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-2 border-dashed flex flex-col items-center justify-center overflow-hidden transition-all border-slate-200 hover:border-teal-300",children:x?u.jsx("img",{src:x,className:"w-full h-full object-contain p-4"}):u.jsx(bt,{size:32,className:"text-slate-300"})}),u.jsx("input",{type:"file",id:"sig-p",hidden:!0,onChange:S=>re(S,"signature_picture"),disabled:c}),u.jsx("label",{htmlFor:"sig-p",className:"absolute -bottom-2 -right-2 bg-slate-800 text-white p-3 rounded-2xl cursor-pointer shadow-lg hover:scale-110",children:u.jsx(bt,{size:20})})]}),u.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"E-Signature"})]}),u.jsx("div",{className:"pt-4",children:u.jsxs("button",{type:"submit",disabled:c||O||n!=="valid"||X,className:`w-full py-6 rounded-[2rem] font-black text-xs tracking-[0.3em] shadow-2xl transition-all flex flex-col items-center justify-center gap-1 ${n==="valid"&&!X?"bg-[#00928a] text-white hover:bg-[#007a73]":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[c?u.jsx(It,{className:"animate-spin",size:18}):u.jsx(Ar,{size:18}),c?"PLEASE WAIT...":"CONFIRM & SUBMIT"]}),c&&u.jsx("span",{className:"text-[8px] opacity-70 animate-pulse uppercase tracking-widest",children:g==="enhancing"?"Running GFPGAN Restoration...":"Finalizing Upload..."})]})})]})})]})]})]})},Ot=({icon:t,title:e,subtitle:r,children:s})=>u.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-sm border border-slate-200 overflow-hidden relative",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-8 relative z-10",children:[u.jsx("div",{className:"w-14 h-14 bg-teal-50 rounded-[1.25rem] flex items-center justify-center text-teal-600 shadow-sm",children:t}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:e}),u.jsx("p",{className:"text-[10px] text-teal-600/60 font-black uppercase tracking-widest",children:r})]})]}),u.jsx("div",{className:"relative z-10",children:s})]}),J=({label:t,value:e,onChange:r,isTextArea:s=!1,status:a="idle",isLoading:n=!1})=>u.jsxs("div",{className:"w-full",children:[u.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 ml-4 tracking-[0.15em]",children:t}),u.jsx("div",{className:"relative",children:s?u.jsx("textarea",{value:e,onChange:i=>r(i.target.value),rows:3,className:"w-full bg-slate-50 border border-slate-200 rounded-[2rem] p-6 outline-none focus:bg-white focus:border-teal-500 transition-all text-sm font-bold"}):u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),className:`w-full bg-slate-50 border rounded-[2rem] px-6 py-5 outline-none transition-all text-sm font-bold ${a==="valid"?"border-emerald-500 bg-emerald-50/30":a==="invalid"?"border-rose-500 bg-rose-50/30":"border-slate-200 focus:border-teal-500"}`}),u.jsxs("div",{className:"absolute right-6 top-1/2 -translate-y-1/2",children:[n&&u.jsx(It,{className:"animate-spin text-teal-500",size:20}),a==="valid"&&!n&&u.jsx(Et,{className:"text-emerald-500",size:20}),a==="invalid"&&!n&&u.jsx(yr,{className:"text-rose-500",size:20})]})]})})]});export{ii as default};
