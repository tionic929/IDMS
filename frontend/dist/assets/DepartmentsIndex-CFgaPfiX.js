import{c as E,a as M,r as l,j as e,w as _,x as B,L as F,d as P,z as I}from"./index-ctC3Ugkw.js";import{g as T,C as R,a as $}from"./index-CYKk_3z3.js";import{b as O}from"./index-djB_fYzu.js";import{u as U,M as G}from"./map-pin-CpCkBlaX.js";import{C as Y}from"./circle-alert-DT7ufwao.js";import{U as q}from"./users-DDZpKkvT.js";import{C as K}from"./circle-check-CoPv5K_q.js";const Q=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],f=E("graduation-cap",Q),V=async(i="",a=null,t="")=>{const n=new URLSearchParams;return i&&n.append("department",i),t&&n.append("search",t),a&&n.append("cursor",a),(await M.get(`/get-departments?${n.toString()}`)).data},H="/assets/ab-C_5vmB_0.webp",W="/assets/bec-3PiaZ1Tv.webp",J="/assets/bsba-DkTOCPFx.webp",Z="/assets/bscrim-mdED5b22.webp",X="/assets/bsed-2q6deuc2.webp",ee="/assets/bsge-BccHr3L-.webp",se="/assets/bshm-C6AKmbMy.webp",te="/assets/bsit-DLj3bwGN.webp",ae="/assets/bsn-B53Y6srS.webp",ne="/assets/cola-Ddombaz7.webp",re="/assets/masteral-BbAVyT3V.webp",ce="/assets/midwifery-pC7KdFE7.webp",b={AB:H,BEC:W,BSBA:J,BSCRIM:Z,BSED:X,BSGE:ee,BSHM:se,BSIT:te,BSN:ae,JD:ne,MASTERAL:re,MIDWIFERY:ce,EMPLOYEE:_},ie=()=>e.jsxs("div",{className:"flex items-center justify-between px-4 py-4 rounded-2xl animate-pulse bg-zinc-900/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-zinc-800"}),e.jsx("div",{className:"h-3 w-24 bg-zinc-800 rounded"})]}),e.jsx("div",{className:"w-6 h-4 bg-zinc-800 rounded"})]}),w=()=>e.jsxs("div",{className:"bg-zinc-900 p-6 rounded-2xl border border-zinc-800 flex items-center justify-between animate-pulse",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-2 w-20 bg-zinc-800 rounded"}),e.jsx("div",{className:"h-8 w-16 bg-zinc-700 rounded"})]}),e.jsx("div",{className:"w-12 h-12 bg-zinc-800 rounded-2xl"})]}),le=()=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-10 py-7",children:e.jsx("div",{className:"h-4 bg-zinc-800 rounded w-24"})}),e.jsx("td",{className:"px-10 py-7",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-zinc-700 rounded w-40"}),e.jsx("div",{className:"h-3 bg-zinc-800 rounded w-20"})]})}),e.jsx("td",{className:"px-10 py-7",children:e.jsx("div",{className:"h-7 bg-zinc-800 rounded-xl w-20 mx-auto"})}),e.jsx("td",{className:"px-10 py-7",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-zinc-700 rounded w-32"}),e.jsx("div",{className:"h-2 bg-zinc-800 rounded w-48"})]})}),e.jsx("td",{className:"px-10 py-7",children:e.jsx("div",{className:"h-11 w-11 bg-zinc-800 rounded-lg mx-auto"})})]}),z=({title:i,value:a,icon:t,color:n})=>e.jsxs("div",{className:"bg-zinc-900 p-6 rounded-lg border border-zinc-800 flex items-center justify-between transition-all hover:border-zinc-700",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:i}),e.jsx("span",{className:"text-3xl font-black text-zinc-100 mt-1",children:a})]}),e.jsx("div",{className:`p-3 rounded-lg ${n} bg-opacity-10`,children:e.jsx(t,{className:`w-6 h-6 ${n.replace("bg-","text-")}`})})]}),ge=()=>{const[i,a]=l.useState(null),[t,n]=l.useState("EMPLOYEE"),[o,v]=l.useState(""),[h,y]=l.useState("");l.useEffect(()=>{const s=setTimeout(()=>{y(o),a(null)},400);return()=>clearTimeout(s)},[o]);const{data:r,isLoading:x,isFetching:d,isPlaceholderData:g,error:k}=U({queryKey:["departments",t,i,h],queryFn:()=>V(t,i||"",h),placeholderData:I,staleTime:1e3*60*5}),u=r?.sidebar?Array.isArray(r.sidebar)?r.sidebar:[r.sidebar]:[],p=r?.students||[],C=u.find(s=>s.department===t),j=r?.pagination?.next_cursor||null,m=r?.pagination?.prev_cursor||null,S=r?.pagination?.has_more||!1,L=s=>{n(s),a(null)},D=()=>j&&a(j),A=()=>m&&a(m);return k?e.jsx("div",{className:"flex h-screen items-center justify-center bg-zinc-950",children:e.jsxs("div",{className:"bg-zinc-900 p-8 rounded-3xl border border-rose-900/50 text-center max-w-sm",children:[e.jsx(Y,{className:"text-rose-500 mx-auto mb-4",size:48}),e.jsx("h3",{className:"text-xl font-black text-zinc-100 uppercase",children:"Error Occurred"}),e.jsx("p",{className:"text-zinc-500 text-sm mt-2 font-medium",children:"Failed to load department data."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-3 bg-rose-600 text-white rounded-2xl font-bold uppercase text-xs tracking-widest hover:bg-rose-700 transition-colors",children:"Retry"})]})}):e.jsxs("div",{className:"flex h-screen bg-zinc-950 text-zinc-400 overflow-hidden",children:[e.jsx("aside",{className:"w-[320px] bg-zinc-900 border-r border-zinc-800 flex flex-col h-full z-10",children:e.jsx("nav",{className:"flex-1 overflow-y-auto px-2 space-y-1.5 pt-2 pb-8 custom-scrollbar",children:x?[...Array(8)].map((s,c)=>e.jsx(ie,{},c)):u.map(s=>{const c=t===s.department,N=b[s.department.toUpperCase()];return e.jsxs("button",{onClick:()=>L(s.department),className:`w-full flex items-center justify-between px-3 py-4 rounded-md transition-all duration-300 relative group
                      ${c?"bg-indigo-600 text-white shadow-xl shadow-indigo-900/20 scale-[1.02]":"text-zinc-500 hover:bg-zinc-800 hover:text-zinc-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-md flex items-center justify-center overflow-hidden transition-colors bg-zinc-800",children:N?e.jsx("img",{src:N,alt:s.department,className:"w-full h-full object-cover"}):e.jsx(f,{size:18,className:c?"text-white":"text-zinc-500"})}),e.jsx("span",{className:`text-sm font-black truncate w-36 text-left tracking-tight ${c?"text-white":""}`,children:s.department})]}),e.jsx("div",{className:`px-2.5 py-1 rounded-lg text-[1rem] font-bold transition-all
                      ${c?"bg-white/20 text-white":"bg-zinc-800 text-zinc-400 group-hover:bg-zinc-700"}`,children:s.applicant_count})]},s.department)})})}),e.jsxs("main",{className:"flex-1 h-screen p-10 space-y-10 overflow-y-auto custom-scrollbar",children:[e.jsxs("header",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-6xl font-black tracking-tighter text-zinc-100 uppercase",children:t}),e.jsx("p",{className:"text-xs font-bold tracking-[0.4em] uppercase text-zinc-500 pl-1",children:"applicants"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(B,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 group-focus-within:text-indigo-400 transition-colors",size:20}),e.jsx("input",{type:"text",placeholder:"Filter by name or ID...",value:o,onChange:s=>v(s.target.value),className:"w-96 p-4 rounded-2xl border-none bg-zinc-900 px-14 py-4.5 text-sm font-bold text-zinc-100 shadow-2xl shadow-black/20 focus:ring-2 focus:ring-indigo-500 outline-none placeholder:text-zinc-600 transition-all"})]})]}),e.jsx("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:x?e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx(w,{}),e.jsx("div",{className:"h-32 bg-zinc-900 rounded-2xl animate-pulse border border-zinc-800"})]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{icon:O,title:"Total Applicants",value:C?.applicant_count.toString()||"0",color:"bg-indigo-500"}),e.jsx(z,{icon:q,title:"Current Page",value:p.length.toString(),color:"bg-emerald-500"}),e.jsxs("div",{className:"bg-indigo-950 p-6 rounded-lg border border-indigo-900/50 shadow-xl flex flex-col justify-center relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-300",children:"Active Selection"}),e.jsxs("p",{className:"text-white font-black text-xl mt-1 tracking-tight",children:[t," Records"]})]}),b[t.toUpperCase()]?e.jsx("img",{src:b[t.toUpperCase()],className:"absolute -right-4 -bottom-4 w-32 h-32 opacity-10 grayscale brightness-200",alt:""}):e.jsx(f,{className:"absolute -right-4 -bottom-4 text-white/5",size:100})]})]})}),e.jsxs("div",{className:"relative overflow-hidden rounded-lg border border-zinc-800 bg-zinc-900/50 shadow-2xl",children:[d&&g&&e.jsx("div",{className:"absolute inset-0 bg-zinc-950/40 backdrop-blur-[2px] z-20 flex items-center justify-center",children:e.jsx(F,{className:"animate-spin text-indigo-500",size:40})}),e.jsx("div",{className:`overflow-x-auto custom-scrollbar transition-opacity duration-300 ${g?"opacity-50":"opacity-100"}`,children:e.jsxs("table",{className:"w-full border-separate border-spacing-0 text-left table-fixed",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-zinc-800/50 text-[10px] font-black uppercase tracking-[0.3em] text-zinc-500",children:[e.jsx("th",{className:"px-10 py-6 border-b border-zinc-800 w-[20%]",children:"ID Number"}),e.jsx("th",{className:"px-10 py-6 border-b border-zinc-800 w-[30%]",children:"Full Name"}),e.jsx("th",{className:"px-10 py-6 border-b border-zinc-800 w-[15%] text-center",children:"Status"}),e.jsx("th",{className:"px-10 py-6 border-b border-zinc-800 w-[25%]",children:"Contact & Address"}),e.jsx("th",{className:"px-10 py-6 border-b border-zinc-800 w-[10%] text-center",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:x?[...Array(6)].map((s,c)=>e.jsx(le,{},c)):p.length>0?p.map(s=>e.jsxs("tr",{className:"group transition-all hover:bg-zinc-800/30",children:[e.jsx("td",{className:"px-10 py-7 font-mono text-sm font-bold text-zinc-500",children:s.id_number}),e.jsx("td",{className:"px-10 py-7",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-zinc-200",children:T(s)}),e.jsx("span",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-tighter",children:s.course})]})}),e.jsx("td",{className:"px-10 py-7 text-center",children:e.jsxs("span",{className:`inline-flex items-center gap-2 rounded-xl px-4 py-1.5 text-[9px] font-black uppercase tracking-widest
                          ${s.has_card?"bg-emerald-500/10 text-emerald-400 ring-1 ring-emerald-500/20":"bg-rose-500/10 text-rose-400 ring-1 ring-rose-500/20"}`,children:[s.has_card?e.jsx(K,{size:10}):null,s.has_card?"Issued":"No ID"]})}),e.jsx("td",{className:"px-10 py-7",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-bold text-zinc-300 truncate",children:s.guardian_name}),e.jsxs("span",{className:"text-[10px] text-zinc-500 flex items-center gap-1 font-bold uppercase italic",children:[e.jsx(G,{size:10,className:"text-indigo-400/50"})," ",s.address||"Unset"]})]})}),e.jsx("td",{className:"px-10 py-7 text-center",children:e.jsx("button",{className:"w-11 h-11 border border-zinc-800 rounded-2xl bg-zinc-900 shadow-sm hover:border-indigo-500/50 transition-all flex items-center justify-center mx-auto group/btn",children:e.jsx(R,{size:22,className:"text-zinc-500 group-hover/btn:text-indigo-400"})})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-32 text-center bg-zinc-900/20",children:e.jsx("p",{className:"text-sm font-black text-zinc-600 uppercase tracking-[0.3em]",children:"No Applicants Found"})})})})]})}),e.jsxs("div",{className:"bg-zinc-900 px-10 py-6 border-t border-zinc-800 flex items-center justify-between",children:[e.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:d?"Syncing...":"All data up to date"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{disabled:!m||d,onClick:A,className:"p-3 rounded-xl border border-zinc-800 bg-zinc-900 text-zinc-400 hover:bg-zinc-800 disabled:opacity-20 transition-all",children:e.jsx($,{size:20})}),e.jsxs("button",{disabled:!S||d,onClick:D,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-indigo-600 text-white font-bold text-xs uppercase tracking-widest hover:bg-indigo-700 disabled:opacity-20 transition-all shadow-lg shadow-indigo-900/20",children:["Next ",e.jsx(P,{size:18})]})]})]})]})]})]})};export{ge as default};
