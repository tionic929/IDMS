import{c as fe,_ as kt,a8 as vr,r as D,j as l,a9 as jt,H as gr,U as yr,L as it,aa as _r,a as br,ab as xr}from"./index-D1P_AzTV.js";import{v as wr}from"./reports-B-Dfhu8k.js";import{A as kr}from"./arrow-left-BC9fhPCu.js";import{S as jr}from"./shield-check-WDiM_fJy.js";import{C as Mt}from"./circle-check-BWnV1Fy7.js";import{C as $t}from"./circle-alert-BDSBxhNg.js";const Cr=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Tr=fe("book-open",Cr);const Nr=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Sr=fe("camera",Nr);const Ar=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Or=fe("cloud-upload",Ar);const Ir=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Ct=fe("file-check",Ir);const Er=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Rr=fe("refresh-ccw",Er);const Zr=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pr=fe("zap",Zr);var Mr=Object.create,zt=Object.defineProperty,$r=Object.getOwnPropertyDescriptor,Dt=Object.getOwnPropertyNames,zr=Object.getPrototypeOf,Dr=Object.prototype.hasOwnProperty,gt=(t,e)=>function(){return e||(0,t[Dt(t)[0]])((e={exports:{}}).exports,e),e.exports},Ur=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Dt(e))!Dr.call(t,a)&&a!==r&&zt(t,a,{get:()=>e[a],enumerable:!(s=$r(e,a))||s.enumerable});return t},Ye=(t,e,r)=>(r=t!=null?Mr(zr(t)):{},Ur(!t||!t.__esModule?zt(r,"default",{value:t,enumerable:!0}):r,t)),Lr=gt({"../../node_modules/.pnpm/iota-array@1.0.0/node_modules/iota-array/iota.js"(t,e){function r(s){for(var a=new Array(s),n=0;n<s;++n)a[n]=n;return a}e.exports=r}}),Vr=gt({"../../node_modules/.pnpm/is-buffer@1.1.6/node_modules/is-buffer/index.js"(t,e){e.exports=function(a){return a!=null&&(r(a)||s(a)||!!a._isBuffer)};function r(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}function s(a){return typeof a.readFloatLE=="function"&&typeof a.slice=="function"&&r(a.slice(0,0))}}}),Ke=gt({"../../node_modules/.pnpm/ndarray@1.0.19/node_modules/ndarray/ndarray.js"(t,e){var r=Lr(),s=Vr(),a=typeof Float64Array<"u";function n(g,_){return g[0]-_[0]}function i(){var g=this.stride,_=new Array(g.length),v;for(v=0;v<_.length;++v)_[v]=[Math.abs(g[v]),v];_.sort(n);var S=new Array(_.length);for(v=0;v<S.length;++v)S[v]=_[v][1];return S}function o(g,_){var v=["View",_,"d",g].join("");_<0&&(v="View_Nil"+g);var S=g==="generic";if(_===-1){var b="function "+v+"(a){this.data=a;};var proto="+v+".prototype;proto.dtype='"+g+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+v+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+v+"(a){return new "+v+"(a);}",re=new Function(b);return re()}else if(_===0){var b="function "+v+"(a,d) {this.data = a;this.offset = d};var proto="+v+".prototype;proto.dtype='"+g+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+v+"_copy() {return new "+v+"(this.data,this.offset)};proto.pick=function "+v+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+v+"_get(){return "+(S?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+v+"_set(v){return "+(S?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+v+"(a,b,c,d){return new "+v+"(a,d)}",re=new Function("TrivialArray",b);return re(c[g][0])}var b=["'use strict'"],T=r(_),A=T.map(function(f){return"i"+f}),P="this.offset+"+T.map(function(f){return"this.stride["+f+"]*i"+f}).join("+"),E=T.map(function(f){return"b"+f}).join(","),R=T.map(function(f){return"c"+f}).join(",");b.push("function "+v+"(a,"+E+","+R+",d){this.data=a","this.shape=["+E+"]","this.stride=["+R+"]","this.offset=d|0}","var proto="+v+".prototype","proto.dtype='"+g+"'","proto.dimension="+_),b.push("Object.defineProperty(proto,'size',{get:function "+v+"_size(){return "+T.map(function(f){return"this.shape["+f+"]"}).join("*"),"}})"),_===1?b.push("proto.order=[0]"):(b.push("Object.defineProperty(proto,'order',{get:"),_<4?(b.push("function "+v+"_order(){"),_===2?b.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):_===3&&b.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):b.push("ORDER})")),b.push("proto.set=function "+v+"_set("+A.join(",")+",v){"),S?b.push("return this.data.set("+P+",v)}"):b.push("return this.data["+P+"]=v}"),b.push("proto.get=function "+v+"_get("+A.join(",")+"){"),S?b.push("return this.data.get("+P+")}"):b.push("return this.data["+P+"]}"),b.push("proto.index=function "+v+"_index(",A.join(),"){return "+P+"}"),b.push("proto.hi=function "+v+"_hi("+A.join(",")+"){return new "+v+"(this.data,"+T.map(function(f){return["(typeof i",f,"!=='number'||i",f,"<0)?this.shape[",f,"]:i",f,"|0"].join("")}).join(",")+","+T.map(function(f){return"this.stride["+f+"]"}).join(",")+",this.offset)}");var Q=T.map(function(f){return"a"+f+"=this.shape["+f+"]"}),ve=T.map(function(f){return"c"+f+"=this.stride["+f+"]"});b.push("proto.lo=function "+v+"_lo("+A.join(",")+"){var b=this.offset,d=0,"+Q.join(",")+","+ve.join(","));for(var j=0;j<_;++j)b.push("if(typeof i"+j+"==='number'&&i"+j+">=0){d=i"+j+"|0;b+=c"+j+"*d;a"+j+"-=d}");b.push("return new "+v+"(this.data,"+T.map(function(f){return"a"+f}).join(",")+","+T.map(function(f){return"c"+f}).join(",")+",b)}"),b.push("proto.step=function "+v+"_step("+A.join(",")+"){var "+T.map(function(f){return"a"+f+"=this.shape["+f+"]"}).join(",")+","+T.map(function(f){return"b"+f+"=this.stride["+f+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var j=0;j<_;++j)b.push("if(typeof i"+j+"==='number'){d=i"+j+"|0;if(d<0){c+=b"+j+"*(a"+j+"-1);a"+j+"=ceil(-a"+j+"/d)}else{a"+j+"=ceil(a"+j+"/d)}b"+j+"*=d}");b.push("return new "+v+"(this.data,"+T.map(function(f){return"a"+f}).join(",")+","+T.map(function(f){return"b"+f}).join(",")+",c)}");for(var ee=new Array(_),te=new Array(_),j=0;j<_;++j)ee[j]="a[i"+j+"]",te[j]="b[i"+j+"]";b.push("proto.transpose=function "+v+"_transpose("+A+"){"+A.map(function(f,I){return f+"=("+f+"===undefined?"+I+":"+f+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+v+"(this.data,"+ee.join(",")+","+te.join(",")+",this.offset)}"),b.push("proto.pick=function "+v+"_pick("+A+"){var a=[],b=[],c=this.offset");for(var j=0;j<_;++j)b.push("if(typeof i"+j+"==='number'&&i"+j+">=0){c=(c+this.stride["+j+"]*i"+j+")|0}else{a.push(this.shape["+j+"]);b.push(this.stride["+j+"])}");b.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),b.push("return function construct_"+v+"(data,shape,stride,offset){return new "+v+"(data,"+T.map(function(f){return"shape["+f+"]"}).join(",")+","+T.map(function(f){return"stride["+f+"]"}).join(",")+",offset)}");var re=new Function("CTOR_LIST","ORDER",b.join(`
`));return re(c[g],i)}function d(g){if(s(g))return"buffer";if(a)switch(Object.prototype.toString.call(g)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(g)?"array":"generic"}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function m(g,_,v,S){if(g===void 0){var R=c.array[0];return R([])}else typeof g=="number"&&(g=[g]);_===void 0&&(_=[g.length]);var b=_.length;if(v===void 0){v=new Array(b);for(var T=b-1,A=1;T>=0;--T)v[T]=A,A*=_[T]}if(S===void 0){S=0;for(var T=0;T<b;++T)v[T]<0&&(S-=(_[T]-1)*v[T])}for(var P=d(g),E=c[P];E.length<=b+1;)E.push(o(P,E.length-1));var R=E[b+1];return R(g,_,v,S)}e.exports=m}}),Fr=typeof global=="object"&&global&&global.Object===Object&&global,Br=Fr,Wr=typeof self=="object"&&self&&self.Object===Object&&self,qr=Br||Wr||Function("return this")(),yt=qr,Gr=yt.Symbol,Le=Gr,Ut=Object.prototype,Hr=Ut.hasOwnProperty,Jr=Ut.toString,ge=Le?Le.toStringTag:void 0;function Yr(t){var e=Hr.call(t,ge),r=t[ge];try{t[ge]=void 0;var s=!0}catch{}var a=Jr.call(t);return s&&(e?t[ge]=r:delete t[ge]),a}var Kr=Yr,Xr=Object.prototype,Qr=Xr.toString;function ea(t){return Qr.call(t)}var ta=ea,ra="[object Null]",aa="[object Undefined]",Tt=Le?Le.toStringTag:void 0;function sa(t){return t==null?t===void 0?aa:ra:Tt&&Tt in Object(t)?Kr(t):ta(t)}var na=sa;function ia(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Lt=ia,oa="[object AsyncFunction]",ca="[object Function]",da="[object GeneratorFunction]",ua="[object Proxy]";function la(t){if(!Lt(t))return!1;var e=na(t);return e==ca||e==da||e==oa||e==ua}var fa=la,ha=yt["__core-js_shared__"],at=ha,Nt=(function(){var t=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function pa(t){return!!Nt&&Nt in t}var ma=pa,va=Function.prototype,ga=va.toString;function ya(t){if(t!=null){try{return ga.call(t)}catch{}try{return t+""}catch{}}return""}var _a=ya,ba=/[\\^$.*+?()[\]{}|]/g,xa=/^\[object .+?Constructor\]$/,wa=Function.prototype,ka=Object.prototype,ja=wa.toString,Ca=ka.hasOwnProperty,Ta=RegExp("^"+ja.call(Ca).replace(ba,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Na(t){if(!Lt(t)||ma(t))return!1;var e=fa(t)?Ta:xa;return e.test(_a(t))}var Sa=Na;function Aa(t,e){return t?.[e]}var Oa=Aa;function Ia(t,e){var r=Oa(t,e);return Sa(r)?r:void 0}var Vt=Ia,Ea=Vt(Object,"create"),we=Ea;function Ra(){this.__data__=we?we(null):{},this.size=0}var Za=Ra;function Pa(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ma=Pa,$a="__lodash_hash_undefined__",za=Object.prototype,Da=za.hasOwnProperty;function Ua(t){var e=this.__data__;if(we){var r=e[t];return r===$a?void 0:r}return Da.call(e,t)?e[t]:void 0}var La=Ua,Va=Object.prototype,Fa=Va.hasOwnProperty;function Ba(t){var e=this.__data__;return we?e[t]!==void 0:Fa.call(e,t)}var Wa=Ba,qa="__lodash_hash_undefined__";function Ga(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=we&&e===void 0?qa:e,this}var Ha=Ga;function he(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}he.prototype.clear=Za;he.prototype.delete=Ma;he.prototype.get=La;he.prototype.has=Wa;he.prototype.set=Ha;var St=he;function Ja(){this.__data__=[],this.size=0}var Ya=Ja;function Ka(t,e){return t===e||t!==t&&e!==e}var Xa=Ka;function Qa(t,e){for(var r=t.length;r--;)if(Xa(t[r][0],e))return r;return-1}var Xe=Qa,es=Array.prototype,ts=es.splice;function rs(t){var e=this.__data__,r=Xe(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():ts.call(e,r,1),--this.size,!0}var as=rs;function ss(t){var e=this.__data__,r=Xe(e,t);return r<0?void 0:e[r][1]}var ns=ss;function is(t){return Xe(this.__data__,t)>-1}var os=is;function cs(t,e){var r=this.__data__,s=Xe(r,t);return s<0?(++this.size,r.push([t,e])):r[s][1]=e,this}var ds=cs;function pe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}pe.prototype.clear=Ya;pe.prototype.delete=as;pe.prototype.get=ns;pe.prototype.has=os;pe.prototype.set=ds;var us=pe,ls=Vt(yt,"Map"),fs=ls;function hs(){this.size=0,this.__data__={hash:new St,map:new(fs||us),string:new St}}var ps=hs;function ms(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vs=ms;function gs(t,e){var r=t.__data__;return vs(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Qe=gs;function ys(t){var e=Qe(this,t).delete(t);return this.size-=e?1:0,e}var _s=ys;function bs(t){return Qe(this,t).get(t)}var xs=bs;function ws(t){return Qe(this,t).has(t)}var ks=ws;function js(t,e){var r=Qe(this,t),s=r.size;return r.set(t,e),this.size+=r.size==s?0:1,this}var Cs=js;function me(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}me.prototype.clear=ps;me.prototype.delete=_s;me.prototype.get=xs;me.prototype.has=ks;me.prototype.set=Cs;var Ft=me,Ts="Expected a function";function _t(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ts);var r=function(){var s=arguments,a=e?e.apply(this,s):s[0],n=r.cache;if(n.has(a))return n.get(a);var i=t.apply(this,s);return r.cache=n.set(a,i)||n,i};return r.cache=new(_t.Cache||Ft),r}_t.Cache=Ft;var Ns=_t,bt=Ye(Ke()),Bt=class ot{constructor(e,r){this.type="application/octet-stream",this.params={},this.type=e,this.params=r}toString(){const e=[];for(const r in this.params){const s=this.params[r];e.push(`${r}=${s}`)}return[this.type,...e].join(";")}static create(e,r){return new ot(e,r)}isIdentical(e){return this.type===e.type&&this.params===e.params}isEqual(e){return this.type===e.type}static fromString(e){const[r,...s]=e.split(";"),a={};for(const n of s){const[i,o]=n.split("=");a[i.trim()]=o.trim()}return new ot(r,a)}},st=Ye(Ke());async function Ss(t){const e=Bt.fromString(t.type);switch(e.type){case"image/x-alpha8":{const r=parseInt(e.params.width),s=parseInt(e.params.height);return(0,st.default)(new Uint8Array(await t.arrayBuffer()),[s,r,1])}case"image/x-rgba8":{const r=parseInt(e.params.width),s=parseInt(e.params.height);return(0,st.default)(new Uint8Array(await t.arrayBuffer()),[s,r,4])}case"application/octet-stream":case"image/png":case"image/jpeg":case"image/jpg":case"image/webp":{const r=await createImageBitmap(t),s=Es(r);return(0,st.default)(new Uint8Array(s.data),[s.height,s.width,4])}default:throw new Error(`Invalid format: ${e.type} with params: ${e.params}`)}}async function As(t,e=.8,r="image/png"){const[s,a,n]=t.shape;switch(r){case"image/x-alpha8":case"image/x-rgba8":{const d=Bt.create(r,{width:a.toString(),height:s.toString()});return new Blob([t.data],{type:d.toString()})}case"image/png":case"image/jpeg":case"image/webp":{const d=new ImageData(new Uint8ClampedArray(t.data),a,s);var i=Wt(d.width,d.height),o=i.getContext("2d");return o.putImageData(d,0,0),i.convertToBlob({quality:e,type:r})}default:throw new Error(`Invalid format: ${r}`)}}function Os(t){return new RegExp("^(?:[a-z+]+:)?//","i").test(t)}function Is(t,e){return Os(t)?t:new URL(t,e).href}function Es(t){var e=Wt(t.width,t.height),r=e.getContext("2d");return r.drawImage(t,0,0),r.getImageData(0,0,e.width,e.height)}function Rs(t){if(typeof Uint8Array<"u")return new Uint8Array(t);if(typeof Uint8ClampedArray<"u")return new Uint8ClampedArray(t);if(typeof Uint16Array<"u")return new Uint16Array(t);if(typeof Uint32Array<"u")return new Uint32Array(t);if(typeof Float32Array<"u")return new Float32Array(t);if(typeof Float64Array<"u")return new Float64Array(t);throw new Error("TypedArray not supported")}function At(t,e,r,s=!1){const[a,n,i]=t.shape;let o=n/e,d=a/r;s&&(o=d=Math.max(o,d)>1?Math.max(o,d):Math.min(o,d));const c=(0,bt.default)(Rs(i*e*r),[r,e,i]);for(let m=0;m<r;m++)for(let g=0;g<e;g++){const _=g*o,v=m*d,S=Math.max(Math.floor(_),0),b=Math.min(Math.ceil(_),n-1),T=Math.max(Math.floor(v),0),A=Math.min(Math.ceil(v),a-1),P=_-S,E=v-T;for(let R=0;R<i;R++){const Q=t.get(T,S,R),ve=t.get(T,b,R),j=t.get(A,S,R),ee=t.get(A,b,R),te=(1-P)*(1-E)*Q+P*(1-E)*ve+(1-P)*E*j+P*E*ee;c.set(m,g,R,te)}}return c}function Zs(t,e=[128,128,128],r=[256,256,256]){var s=t.data;const[a,n,i]=t.shape,o=a*n,d=new Float32Array(3*o);for(let c=0,m=0;c<s.length;c+=4,m+=1)d[m]=(s[c]-e[0])/r[0],d[m+o]=(s[c+1]-e[1])/r[1],d[m+o+o]=(s[c+2]-e[2])/r[2];return(0,bt.default)(d,[1,3,a,n])}async function Ps(t,e){return typeof t=="string"&&(t=Is(t,e.publicPath),t=new URL(t)),t instanceof URL&&(t=await(await fetch(t,{})).blob()),(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t=new Blob([t])),t instanceof Blob&&(t=await Ss(t)),t}function Ms(t){const e=new Uint8Array(t.data.length);for(let r=0;r<t.data.length;r++)e[r]=t.data[r]*255;return(0,bt.default)(e,t.shape)}function Wt(t,e){let r;if(typeof OffscreenCanvas<"u"?r=new OffscreenCanvas(t,e):r=document.createElement("canvas"),!r)throw new Error("Canvas nor OffscreenCanvas are available in the current context.");return r}var $s=Ye(Ke()),qt=async()=>navigator.gpu===void 0?!1:await navigator.gpu.requestAdapter()!==null,zs=()=>navigator.hardwareConcurrency??4;async function Ot(t,e){return URL.createObjectURL(await Gt(t,e))}async function Gt(t,e){const r=new URL("resources.json",e.publicPath),s=await fetch(r);if(!s.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");const n=(await s.json())[t];if(!n)throw new Error(`Resource ${t} not found. Ensure that the config.publicPath is configured correctly.`);const i=n.chunks;let o=0;const d=i.map(async g=>{const _=g.offsets[1]-g.offsets[0],v=e.publicPath?new URL(g.name,e.publicPath).toString():g.name,b=await(await fetch(v,e.fetchArgs)).blob();if(_!==b.size)throw new Error(`Failed to fetch ${t} with size ${_} but got ${b.size}`);return e.progress&&(o+=_,e.progress(`fetch:${t}`,o,n.size)),b}),c=await Promise.all(d),m=new Blob(c,{type:n.mime});if(m.size!==n.size)throw new Error(`Failed to fetch ${t} with size ${n.size} but got ${m.size}`);return m}var ye=null,Ht=async t=>(ye!==null||(t?ye=(await kt(async()=>{const{default:e}=await import("./ort.webgpu.bundle.min-tUYEXOOI.js");return{default:e}},[])).default:ye=(await kt(async()=>{const{default:e}=await import("./ort.bundle.min-BV7VIkvy.js");return{default:e}},[])).default),ye);async function Ds(t,e){const r=e.device==="gpu"&&await qt(),s=r&&e.proxyToWorker,a=[r?"webgpu":"wasm"],n=await Ht(r);e.debug&&(console.debug("	Using WebGPU:",r),console.debug("	Proxy to Worker:",s),n.env.debug=!0,n.env.logLevel="verbose"),n.env.wasm.numThreads=zs(),n.env.wasm.proxy=s;const i=r?"/onnxruntime-web/ort-wasm-simd-threaded.jsep":"/onnxruntime-web/ort-wasm-simd-threaded",o=await Ot(`${i}.wasm`,e),d=await Ot(`${i}.mjs`,e);n.env.wasm.wasmPaths={mjs:d,wasm:o},e.debug&&console.debug("ort.env.wasm:",n.env.wasm);const c={executionProviders:a,graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await n.InferenceSession.create(t,c).catch(g=>{throw new Error(`Failed to create session: "${g}". Please check if the publicPath is set correctly.`)})}async function Us(t,e,r,s){const a=s.device==="gpu"&&await qt(),n=await Ht(a),i={};for(const[c,m]of e)i[c]=new n.Tensor("float32",new Float32Array(m.data),m.shape);const o=await t.run(i,{}),d=[];for(const c of r){const m=o[c],g=m.dims,_=m.data,v=(0,$s.default)(_,g);d.push(v)}return d}var N;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const n={};for(const i of a)n[i]=i;return n},t.getValidEnumValues=a=>{const n=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of n)i[o]=a[o];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(n){return a[n]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const n=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.push(i);return n},t.find=(a,n)=>{for(const i of a)if(n(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,n=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}t.joinValues=s,t.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(N||(N={}));var ct;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ct||(ct={}));var p=N.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),H=t=>{switch(typeof t){case"undefined":return p.undefined;case"string":return p.string;case"number":return isNaN(t)?p.nan:p.number;case"boolean":return p.boolean;case"function":return p.function;case"bigint":return p.bigint;case"symbol":return p.symbol;case"object":return Array.isArray(t)?p.array:t===null?p.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?p.promise:typeof Map<"u"&&t instanceof Map?p.map:typeof Set<"u"&&t instanceof Set?p.set:typeof Date<"u"&&t instanceof Date?p.date:p.object;default:return p.unknown}},u=N.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ls=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),V=class Jt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(n){return n.message},s={_errors:[]},a=n=>{for(const i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)s._errors.push(r(i));else{let o=s,d=0;for(;d<i.path.length;){const c=i.path[d];d===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(i))):o[c]=o[c]||{_errors:[]},o=o[c],d++}}};return a(this),s}static assert(e){if(!(e instanceof Jt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,N.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}};V.create=t=>new V(t);var ce=(t,e)=>{let r;switch(t.code){case u.invalid_type:t.received===p.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case u.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,N.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:r=`Unrecognized key(s) in object: ${N.joinValues(t.keys,", ")}`;break;case u.invalid_union:r="Invalid input";break;case u.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${N.joinValues(t.options)}`;break;case u.invalid_enum_value:r=`Invalid enum value. Expected ${N.joinValues(t.options)}, received '${t.received}'`;break;case u.invalid_arguments:r="Invalid function arguments";break;case u.invalid_return_type:r="Invalid function return type";break;case u.invalid_date:r="Invalid date";break;case u.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:N.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case u.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case u.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case u.custom:r="Invalid input";break;case u.invalid_intersection_types:r="Intersection results could not be merged";break;case u.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case u.not_finite:r="Number must be finite";break;default:r=e.defaultError,N.assertNever(t)}return{message:r}},Yt=ce;function Vs(t){Yt=t}function Ve(){return Yt}var Fe=t=>{const{data:e,path:r,errorMaps:s,issueData:a}=t,n=[...r,...a.path||[]],i={...a,path:n};if(a.message!==void 0)return{...a,path:n,message:a.message};let o="";const d=s.filter(c=>!!c).slice().reverse();for(const c of d)o=c(i,{data:e,defaultError:o}).message;return{...a,path:n,message:o}},Fs=[];function h(t,e){const r=Ve(),s=Fe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ce?void 0:ce].filter(a=>!!a)});t.common.issues.push(s)}var $=class Kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const a of r){if(a.status==="aborted")return w;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const a of r){const n=await a.key,i=await a.value;s.push({key:n,value:i})}return Kt.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const a of r){const{key:n,value:i}=a;if(n.status==="aborted"||i.status==="aborted")return w;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(s[n.value]=i.value)}return{status:e.value,value:s}}},w=Object.freeze({status:"aborted"}),oe=t=>({status:"dirty",value:t}),M=t=>({status:"valid",value:t}),dt=t=>t.status==="aborted",ut=t=>t.status==="dirty",se=t=>t.status==="valid",ke=t=>typeof Promise<"u"&&t instanceof Promise;function Be(t,e,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Xt(t,e,r,s,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var y;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(y||(y={}));var _e,be,W=class{constructor(t,e,r,s){this._cachedPath=[],this.parent=t,this.data=e,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},It=(t,e)=>{if(se(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new V(t.common.issues);return this._error=r,this._error}}};function k(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:a}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,o)=>{var d,c;const{message:m}=t;return i.code==="invalid_enum_value"?{message:m??o.defaultError}:typeof o.data>"u"?{message:(d=m??s)!==null&&d!==void 0?d:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(c=m??r)!==null&&c!==void 0?c:o.defaultError}},description:a}}var C=class{get description(){return this._def.description}_getType(t){return H(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:H(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $,ctx:{common:t.parent.common,data:t.data,parsedType:H(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(ke(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const r=this.safeParse(t,e);if(r.success)return r.data;throw r.error}safeParse(t,e){var r;const s={common:{issues:[],async:(r=e?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:H(t)},a=this._parseSync({data:t,path:s.path,parent:s});return It(s,a)}"~validate"(t){var e,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:H(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return se(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(e=a?.message)===null||e===void 0?void 0:e.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>se(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,e){const r=await this.safeParseAsync(t,e);if(r.success)return r.data;throw r.error}async safeParseAsync(t,e){const r={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:H(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(ke(s)?s:Promise.resolve(s));return It(r,a)}refine(t,e){const r=s=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,a)=>{const n=t(s),i=()=>a.addIssue({code:u.custom,...r(s)});return typeof Promise<"u"&&n instanceof Promise?n.then(o=>o?!0:(i(),!1)):n?!0:(i(),!1)})}refinement(t,e){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof e=="function"?e(r,s):e),!1))}_refinement(t){return new F({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return B.create(this,this._def)}nullable(){return X.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ne.create(this)}promise(){return le.create(this,this._def)}or(t){return Oe.create([this,t],this._def)}and(t){return Ie.create(this,t,this._def)}transform(t){return new F({...k(this._def),schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new Pe({...k(this._def),innerType:this,defaultValue:e,typeName:x.ZodDefault})}brand(){return new xt({typeName:x.ZodBranded,type:this,...k(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new Me({...k(this._def),innerType:this,catchValue:e,typeName:x.ZodCatch})}describe(t){const e=this.constructor;return new e({...this._def,description:t})}pipe(t){return wt.create(this,t)}readonly(){return $e.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Bs=/^c[^\s-]{8,}$/i,Ws=/^[0-9a-z]+$/,qs=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gs=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Hs=/^[a-z0-9_-]{21}$/i,Js=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ys=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ks=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Xs="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",nt,Qs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,en=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,an=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sn=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Qt="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nn=new RegExp(`^${Qt}$`);function er(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function on(t){return new RegExp(`^${er(t)}$`)}function tr(t){let e=`${Qt}T${er(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function cn(t,e){return!!((e==="v4"||!e)&&Qs.test(t)||(e==="v6"||!e)&&tn.test(t))}function dn(t,e){if(!Js.test(t))return!1;try{const[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function un(t,e){return!!((e==="v4"||!e)&&en.test(t)||(e==="v6"||!e)&&rn.test(t))}var de=class xe extends C{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.string){const n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:p.string,received:n.parsedType}),w}const s=new $;let a;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(a=this._getOrReturnCtx(e,a),h(a,{code:u.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="max")e.data.length>n.value&&(a=this._getOrReturnCtx(e,a),h(a,{code:u.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),s.dirty());else if(n.kind==="length"){const i=e.data.length>n.value,o=e.data.length<n.value;(i||o)&&(a=this._getOrReturnCtx(e,a),i?h(a,{code:u.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):o&&h(a,{code:u.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),s.dirty())}else if(n.kind==="email")Ks.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"email",code:u.invalid_string,message:n.message}),s.dirty());else if(n.kind==="emoji")nt||(nt=new RegExp(Xs,"u")),nt.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"emoji",code:u.invalid_string,message:n.message}),s.dirty());else if(n.kind==="uuid")Gs.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"uuid",code:u.invalid_string,message:n.message}),s.dirty());else if(n.kind==="nanoid")Hs.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"nanoid",code:u.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid")Bs.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"cuid",code:u.invalid_string,message:n.message}),s.dirty());else if(n.kind==="cuid2")Ws.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"cuid2",code:u.invalid_string,message:n.message}),s.dirty());else if(n.kind==="ulid")qs.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"ulid",code:u.invalid_string,message:n.message}),s.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),h(a,{validation:"url",code:u.invalid_string,message:n.message}),s.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"regex",code:u.invalid_string,message:n.message}),s.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(e,a),h(a,{code:u.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),s.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(a=this._getOrReturnCtx(e,a),h(a,{code:u.invalid_string,validation:{startsWith:n.value},message:n.message}),s.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(a=this._getOrReturnCtx(e,a),h(a,{code:u.invalid_string,validation:{endsWith:n.value},message:n.message}),s.dirty()):n.kind==="datetime"?tr(n).test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{code:u.invalid_string,validation:"datetime",message:n.message}),s.dirty()):n.kind==="date"?nn.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{code:u.invalid_string,validation:"date",message:n.message}),s.dirty()):n.kind==="time"?on(n).test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{code:u.invalid_string,validation:"time",message:n.message}),s.dirty()):n.kind==="duration"?Ys.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"duration",code:u.invalid_string,message:n.message}),s.dirty()):n.kind==="ip"?cn(e.data,n.version)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"ip",code:u.invalid_string,message:n.message}),s.dirty()):n.kind==="jwt"?dn(e.data,n.alg)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"jwt",code:u.invalid_string,message:n.message}),s.dirty()):n.kind==="cidr"?un(e.data,n.version)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"cidr",code:u.invalid_string,message:n.message}),s.dirty()):n.kind==="base64"?an.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"base64",code:u.invalid_string,message:n.message}),s.dirty()):n.kind==="base64url"?sn.test(e.data)||(a=this._getOrReturnCtx(e,a),h(a,{validation:"base64url",code:u.invalid_string,message:n.message}),s.dirty()):N.assertNever(n);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(a=>e.test(a),{validation:r,code:u.invalid_string,...y.errToObj(s)})}_addCheck(e){return new xe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...y.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...y.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...y.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...y.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...y.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...y.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...y.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...y.errToObj(r)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new xe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};de.create=t=>{var e;return new de({checks:[],typeName:x.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};function ln(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=r>s?r:s,n=parseInt(t.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return n%i/Math.pow(10,a)}var je=class lt extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.number){const n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:p.number,received:n.parsedType}),w}let s;const a=new $;for(const n of this._def.checks)n.kind==="int"?N.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{code:u.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?ln(e.data,n.value)!==0&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),h(s,{code:u.not_finite,message:n.message}),a.dirty()):N.assertNever(n);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,y.toString(r))}gt(e,r){return this.setLimit("min",e,!1,y.toString(r))}lte(e,r){return this.setLimit("max",e,!0,y.toString(r))}lt(e,r){return this.setLimit("max",e,!1,y.toString(r))}setLimit(e,r,s,a){return new lt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:y.toString(a)}]})}_addCheck(e){return new lt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&N.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}};je.create=t=>new je({checks:[],typeName:x.ZodNumber,coerce:t?.coerce||!1,...k(t)});var Ce=class ft extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==p.bigint)return this._getInvalidInput(e);let s;const a=new $;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),h(s,{code:u.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):N.assertNever(n);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return h(r,{code:u.invalid_type,expected:p.bigint,received:r.parsedType}),w}gte(e,r){return this.setLimit("min",e,!0,y.toString(r))}gt(e,r){return this.setLimit("min",e,!1,y.toString(r))}lte(e,r){return this.setLimit("max",e,!0,y.toString(r))}lt(e,r){return this.setLimit("max",e,!1,y.toString(r))}setLimit(e,r,s,a){return new ft({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:y.toString(a)}]})}_addCheck(e){return new ft({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ce.create=t=>{var e;return new Ce({checks:[],typeName:x.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};var Te=class extends C{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==p.boolean){const r=this._getOrReturnCtx(t);return h(r,{code:u.invalid_type,expected:p.boolean,received:r.parsedType}),w}return M(t.data)}};Te.create=t=>new Te({typeName:x.ZodBoolean,coerce:t?.coerce||!1,...k(t)});var Ne=class rr extends C{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.date){const n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_type,expected:p.date,received:n.parsedType}),w}if(isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return h(n,{code:u.invalid_date}),w}const s=new $;let a;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),h(a,{code:u.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),s.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),h(a,{code:u.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),s.dirty()):N.assertNever(n);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rr({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Ne.create=t=>new Ne({checks:[],coerce:t?.coerce||!1,typeName:x.ZodDate,...k(t)});var We=class extends C{_parse(t){if(this._getType(t)!==p.symbol){const r=this._getOrReturnCtx(t);return h(r,{code:u.invalid_type,expected:p.symbol,received:r.parsedType}),w}return M(t.data)}};We.create=t=>new We({typeName:x.ZodSymbol,...k(t)});var Se=class extends C{_parse(t){if(this._getType(t)!==p.undefined){const r=this._getOrReturnCtx(t);return h(r,{code:u.invalid_type,expected:p.undefined,received:r.parsedType}),w}return M(t.data)}};Se.create=t=>new Se({typeName:x.ZodUndefined,...k(t)});var Ae=class extends C{_parse(t){if(this._getType(t)!==p.null){const r=this._getOrReturnCtx(t);return h(r,{code:u.invalid_type,expected:p.null,received:r.parsedType}),w}return M(t.data)}};Ae.create=t=>new Ae({typeName:x.ZodNull,...k(t)});var ue=class extends C{constructor(){super(...arguments),this._any=!0}_parse(t){return M(t.data)}};ue.create=t=>new ue({typeName:x.ZodAny,...k(t)});var ae=class extends C{constructor(){super(...arguments),this._unknown=!0}_parse(t){return M(t.data)}};ae.create=t=>new ae({typeName:x.ZodUnknown,...k(t)});var J=class extends C{_parse(t){const e=this._getOrReturnCtx(t);return h(e,{code:u.invalid_type,expected:p.never,received:e.parsedType}),w}};J.create=t=>new J({typeName:x.ZodNever,...k(t)});var qe=class extends C{_parse(t){if(this._getType(t)!==p.undefined){const r=this._getOrReturnCtx(t);return h(r,{code:u.invalid_type,expected:p.void,received:r.parsedType}),w}return M(t.data)}};qe.create=t=>new qe({typeName:x.ZodVoid,...k(t)});var ne=class De extends C{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),a=this._def;if(r.parsedType!==p.array)return h(r,{code:u.invalid_type,expected:p.array,received:r.parsedType}),w;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(i||o)&&(h(r,{code:i?u.too_big:u.too_small,minimum:o?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(h(r,{code:u.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(h(r,{code:u.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>a.type._parseAsync(new W(r,i,r.path,o)))).then(i=>$.mergeArray(s,i));const n=[...r.data].map((i,o)=>a.type._parseSync(new W(r,i,r.path,o)));return $.mergeArray(s,n)}get element(){return this._def.type}min(e,r){return new De({...this._def,minLength:{value:e,message:y.toString(r)}})}max(e,r){return new De({...this._def,maxLength:{value:e,message:y.toString(r)}})}length(e,r){return new De({...this._def,exactLength:{value:e,message:y.toString(r)}})}nonempty(e){return this.min(1,e)}};ne.create=(t,e)=>new ne({type:t,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...k(e)});function ie(t){if(t instanceof U){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=B.create(ie(s))}return new U({...t._def,shape:()=>e})}else return t instanceof ne?new ne({...t._def,type:ie(t.element)}):t instanceof B?B.create(ie(t.unwrap())):t instanceof X?X.create(ie(t.unwrap())):t instanceof K?K.create(t.items.map(e=>ie(e))):t}var U=class L extends C{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=N.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==p.object){const c=this._getOrReturnCtx(e);return h(c,{code:u.invalid_type,expected:p.object,received:c.parsedType}),w}const{status:s,ctx:a}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof J&&this._def.unknownKeys==="strip"))for(const c in a.data)i.includes(c)||o.push(c);const d=[];for(const c of i){const m=n[c],g=a.data[c];d.push({key:{status:"valid",value:c},value:m._parse(new W(a,g,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof J){const c=this._def.unknownKeys;if(c==="passthrough")for(const m of o)d.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(c==="strict")o.length>0&&(h(a,{code:u.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const m of o){const g=a.data[m];d.push({key:{status:"valid",value:m},value:c._parse(new W(a,g,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const m of d){const g=await m.key,_=await m.value;c.push({key:g,value:_,alwaysSet:m.alwaysSet})}return c}).then(c=>$.mergeObjectSync(s,c)):$.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new L({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var a,n,i,o;const d=(i=(n=(a=this._def).errorMap)===null||n===void 0?void 0:n.call(a,r,s).message)!==null&&i!==void 0?i:s.defaultError;return r.code==="unrecognized_keys"?{message:(o=y.errToObj(e).message)!==null&&o!==void 0?o:d}:{message:d}}}:{}})}strip(){return new L({...this._def,unknownKeys:"strip"})}passthrough(){return new L({...this._def,unknownKeys:"passthrough"})}extend(e){return new L({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new L({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:x.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new L({...this._def,catchall:e})}pick(e){const r={};return N.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new L({...this._def,shape:()=>r})}omit(e){const r={};return N.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new L({...this._def,shape:()=>r})}deepPartial(){return ie(this)}partial(e){const r={};return N.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];e&&!e[s]?r[s]=a:r[s]=a.optional()}),new L({...this._def,shape:()=>r})}required(e){const r={};return N.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let n=this.shape[s];for(;n instanceof B;)n=n._def.innerType;r[s]=n}}),new L({...this._def,shape:()=>r})}keyof(){return cr(N.objectKeys(this.shape))}};U.create=(t,e)=>new U({shape:()=>t,unknownKeys:"strip",catchall:J.create(),typeName:x.ZodObject,...k(e)});U.strictCreate=(t,e)=>new U({shape:()=>t,unknownKeys:"strict",catchall:J.create(),typeName:x.ZodObject,...k(e)});U.lazycreate=(t,e)=>new U({shape:t,unknownKeys:"strip",catchall:J.create(),typeName:x.ZodObject,...k(e)});var Oe=class extends C{_parse(t){const{ctx:e}=this._processInputParams(t),r=this._def.options;function s(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return e.common.issues.push(...i.ctx.common.issues),i.result;const n=a.map(i=>new V(i.ctx.common.issues));return h(e,{code:u.invalid_union,unionErrors:n}),w}if(e.common.async)return Promise.all(r.map(async a=>{const n={...e,common:{...e.common,issues:[]},parent:null};return{result:await a._parseAsync({data:e.data,path:e.path,parent:n}),ctx:n}})).then(s);{let a;const n=[];for(const o of r){const d={...e,common:{...e.common,issues:[]},parent:null},c=o._parseSync({data:e.data,path:e.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:d}),d.common.issues.length&&n.push(d.common.issues)}if(a)return e.common.issues.push(...a.ctx.common.issues),a.result;const i=n.map(o=>new V(o));return h(e,{code:u.invalid_union,unionErrors:i}),w}}get options(){return this._def.options}};Oe.create=(t,e)=>new Oe({options:t,typeName:x.ZodUnion,...k(e)});var G=t=>t instanceof Ee?G(t.schema):t instanceof F?G(t.innerType()):t instanceof Re?[t.value]:t instanceof ze?t.options:t instanceof Ze?N.objectValues(t.enum):t instanceof Pe?G(t._def.innerType):t instanceof Se?[void 0]:t instanceof Ae?[null]:t instanceof B?[void 0,...G(t.unwrap())]:t instanceof X?[null,...G(t.unwrap())]:t instanceof xt||t instanceof $e?G(t.unwrap()):t instanceof Me?G(t._def.innerType):[],ar=class sr extends C{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==p.object)return h(r,{code:u.invalid_type,expected:p.object,received:r.parsedType}),w;const s=this.discriminator,a=r.data[s],n=this.optionsMap.get(a);return n?r.common.async?n._parseAsync({data:r.data,path:r.path,parent:r}):n._parseSync({data:r.data,path:r.path,parent:r}):(h(r,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),w)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const a=new Map;for(const n of r){const i=G(n.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(a.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);a.set(o,n)}}return new sr({typeName:x.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...k(s)})}};function ht(t,e){const r=H(t),s=H(e);if(t===e)return{valid:!0,data:t};if(r===p.object&&s===p.object){const a=N.objectKeys(e),n=N.objectKeys(t).filter(o=>a.indexOf(o)!==-1),i={...t,...e};for(const o of n){const d=ht(t[o],e[o]);if(!d.valid)return{valid:!1};i[o]=d.data}return{valid:!0,data:i}}else if(r===p.array&&s===p.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let n=0;n<t.length;n++){const i=t[n],o=e[n],d=ht(i,o);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return r===p.date&&s===p.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Ie=class extends C{_parse(t){const{status:e,ctx:r}=this._processInputParams(t),s=(a,n)=>{if(dt(a)||dt(n))return w;const i=ht(a.value,n.value);return i.valid?((ut(a)||ut(n))&&e.dirty(),{status:e.value,value:i.data}):(h(r,{code:u.invalid_intersection_types}),w)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,n])=>s(a,n)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Ie.create=(t,e,r)=>new Ie({left:t,right:e,typeName:x.ZodIntersection,...k(r)});var K=class nr extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==p.array)return h(s,{code:u.invalid_type,expected:p.array,received:s.parsedType}),w;if(s.data.length<this._def.items.length)return h(s,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),w;!this._def.rest&&s.data.length>this._def.items.length&&(h(s,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const n=[...s.data].map((i,o)=>{const d=this._def.items[o]||this._def.rest;return d?d._parse(new W(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(n).then(i=>$.mergeArray(r,i)):$.mergeArray(r,n)}get items(){return this._def.items}rest(e){return new nr({...this._def,rest:e})}};K.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new K({items:t,typeName:x.ZodTuple,rest:null,...k(e)})};var ir=class pt extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==p.object)return h(s,{code:u.invalid_type,expected:p.object,received:s.parsedType}),w;const a=[],n=this._def.keyType,i=this._def.valueType;for(const o in s.data)a.push({key:n._parse(new W(s,o,s.path,o)),value:i._parse(new W(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?$.mergeObjectAsync(r,a):$.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof C?new pt({keyType:e,valueType:r,typeName:x.ZodRecord,...k(s)}):new pt({keyType:de.create(),valueType:e,typeName:x.ZodRecord,...k(r)})}},Ge=class extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:r}=this._processInputParams(t);if(r.parsedType!==p.map)return h(r,{code:u.invalid_type,expected:p.map,received:r.parsedType}),w;const s=this._def.keyType,a=this._def.valueType,n=[...r.data.entries()].map(([i,o],d)=>({key:s._parse(new W(r,i,r.path,[d,"key"])),value:a._parse(new W(r,o,r.path,[d,"value"]))}));if(r.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const o of n){const d=await o.key,c=await o.value;if(d.status==="aborted"||c.status==="aborted")return w;(d.status==="dirty"||c.status==="dirty")&&e.dirty(),i.set(d.value,c.value)}return{status:e.value,value:i}})}else{const i=new Map;for(const o of n){const d=o.key,c=o.value;if(d.status==="aborted"||c.status==="aborted")return w;(d.status==="dirty"||c.status==="dirty")&&e.dirty(),i.set(d.value,c.value)}return{status:e.value,value:i}}}};Ge.create=(t,e,r)=>new Ge({valueType:e,keyType:t,typeName:x.ZodMap,...k(r)});var He=class mt extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==p.set)return h(s,{code:u.invalid_type,expected:p.set,received:s.parsedType}),w;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(h(s,{code:u.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(h(s,{code:u.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const n=this._def.valueType;function i(d){const c=new Set;for(const m of d){if(m.status==="aborted")return w;m.status==="dirty"&&r.dirty(),c.add(m.value)}return{status:r.value,value:c}}const o=[...s.data.values()].map((d,c)=>n._parse(new W(s,d,s.path,c)));return s.common.async?Promise.all(o).then(d=>i(d)):i(o)}min(e,r){return new mt({...this._def,minSize:{value:e,message:y.toString(r)}})}max(e,r){return new mt({...this._def,maxSize:{value:e,message:y.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};He.create=(t,e)=>new He({valueType:t,minSize:null,maxSize:null,typeName:x.ZodSet,...k(e)});var or=class Ue extends C{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==p.function)return h(r,{code:u.invalid_type,expected:p.function,received:r.parsedType}),w;function s(o,d){return Fe({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ve(),ce].filter(c=>!!c),issueData:{code:u.invalid_arguments,argumentsError:d}})}function a(o,d){return Fe({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ve(),ce].filter(c=>!!c),issueData:{code:u.invalid_return_type,returnTypeError:d}})}const n={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof le){const o=this;return M(async function(...d){const c=new V([]),m=await o._def.args.parseAsync(d,n).catch(v=>{throw c.addIssue(s(d,v)),c}),g=await Reflect.apply(i,this,m);return await o._def.returns._def.type.parseAsync(g,n).catch(v=>{throw c.addIssue(a(g,v)),c})})}else{const o=this;return M(function(...d){const c=o._def.args.safeParse(d,n);if(!c.success)throw new V([s(d,c.error)]);const m=Reflect.apply(i,this,c.data),g=o._def.returns.safeParse(m,n);if(!g.success)throw new V([a(m,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ue({...this._def,args:K.create(e).rest(ae.create())})}returns(e){return new Ue({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new Ue({args:e||K.create([]).rest(ae.create()),returns:r||ae.create(),typeName:x.ZodFunction,...k(s)})}},Ee=class extends C{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};Ee.create=(t,e)=>new Ee({getter:t,typeName:x.ZodLazy,...k(e)});var Re=class extends C{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return h(e,{received:e.data,code:u.invalid_literal,expected:this._def.value}),w}return{status:"valid",value:t.data}}get value(){return this._def.value}};Re.create=(t,e)=>new Re({value:t,typeName:x.ZodLiteral,...k(e)});function cr(t,e){return new ze({values:t,typeName:x.ZodEnum,...k(e)})}var ze=class vt extends C{constructor(){super(...arguments),_e.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return h(r,{expected:N.joinValues(s),received:r.parsedType,code:u.invalid_type}),w}if(Be(this,_e)||Xt(this,_e,new Set(this._def.values)),!Be(this,_e).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return h(r,{received:r.data,code:u.invalid_enum_value,options:s}),w}return M(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return vt.create(e,{...this._def,...r})}exclude(e,r=this._def){return vt.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}};_e=new WeakMap;ze.create=cr;var Ze=class extends C{constructor(){super(...arguments),be.set(this,void 0)}_parse(t){const e=N.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==p.string&&r.parsedType!==p.number){const s=N.objectValues(e);return h(r,{expected:N.joinValues(s),received:r.parsedType,code:u.invalid_type}),w}if(Be(this,be)||Xt(this,be,new Set(N.getValidEnumValues(this._def.values))),!Be(this,be).has(t.data)){const s=N.objectValues(e);return h(r,{received:r.data,code:u.invalid_enum_value,options:s}),w}return M(t.data)}get enum(){return this._def.values}};be=new WeakMap;Ze.create=(t,e)=>new Ze({values:t,typeName:x.ZodNativeEnum,...k(e)});var le=class extends C{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==p.promise&&e.common.async===!1)return h(e,{code:u.invalid_type,expected:p.promise,received:e.parsedType}),w;const r=e.parsedType===p.promise?e.data:Promise.resolve(e.data);return M(r.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}};le.create=(t,e)=>new le({type:t,typeName:x.ZodPromise,...k(e)});var F=class extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:n=>{h(r,n),n.fatal?e.abort():e.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const n=s.transform(r.data,a);if(r.common.async)return Promise.resolve(n).then(async i=>{if(e.value==="aborted")return w;const o=await this._def.schema._parseAsync({data:i,path:r.path,parent:r});return o.status==="aborted"?w:o.status==="dirty"||e.value==="dirty"?oe(o.value):o});{if(e.value==="aborted")return w;const i=this._def.schema._parseSync({data:n,path:r.path,parent:r});return i.status==="aborted"?w:i.status==="dirty"||e.value==="dirty"?oe(i.value):i}}if(s.type==="refinement"){const n=i=>{const o=s.refinement(i,a);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?w:(i.status==="dirty"&&e.dirty(),n(i.value),{status:e.value,value:i.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>i.status==="aborted"?w:(i.status==="dirty"&&e.dirty(),n(i.value).then(()=>({status:e.value,value:i.value}))))}if(s.type==="transform")if(r.common.async===!1){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!se(n))return n;const i=s.transform(n.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:i}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(n=>se(n)?Promise.resolve(s.transform(n.value,a)).then(i=>({status:e.value,value:i})):n);N.assertNever(s)}};F.create=(t,e,r)=>new F({schema:t,typeName:x.ZodEffects,effect:e,...k(r)});F.createWithPreprocess=(t,e,r)=>new F({schema:e,effect:{type:"preprocess",transform:t},typeName:x.ZodEffects,...k(r)});var B=class extends C{_parse(t){return this._getType(t)===p.undefined?M(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};B.create=(t,e)=>new B({innerType:t,typeName:x.ZodOptional,...k(e)});var X=class extends C{_parse(t){return this._getType(t)===p.null?M(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};X.create=(t,e)=>new X({innerType:t,typeName:x.ZodNullable,...k(e)});var Pe=class extends C{_parse(t){const{ctx:e}=this._processInputParams(t);let r=e.data;return e.parsedType===p.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};Pe.create=(t,e)=>new Pe({innerType:t,typeName:x.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...k(e)});var Me=class extends C{_parse(t){const{ctx:e}=this._processInputParams(t),r={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ke(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new V(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new V(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Me.create=(t,e)=>new Me({innerType:t,typeName:x.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...k(e)});var Je=class extends C{_parse(t){if(this._getType(t)!==p.nan){const r=this._getOrReturnCtx(t);return h(r,{code:u.invalid_type,expected:p.nan,received:r.parsedType}),w}return{status:"valid",value:t.data}}};Je.create=t=>new Je({typeName:x.ZodNaN,...k(t)});var fn=Symbol("zod_brand"),xt=class extends C{_parse(t){const{ctx:e}=this._processInputParams(t),r=e.data;return this._def.type._parse({data:r,path:e.path,parent:e})}unwrap(){return this._def.type}},wt=class dr extends C{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?w:n.status==="dirty"?(r.dirty(),oe(n.value)):this._def.out._parseAsync({data:n.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?w:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,r){return new dr({in:e,out:r,typeName:x.ZodPipeline})}},$e=class extends C{_parse(t){const e=this._def.innerType._parse(t),r=s=>(se(s)&&(s.value=Object.freeze(s.value)),s);return ke(e)?e.then(s=>r(s)):r(e)}unwrap(){return this._def.innerType}};$e.create=(t,e)=>new $e({innerType:t,typeName:x.ZodReadonly,...k(e)});function Et(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function ur(t,e={},r){return t?ue.create().superRefine((s,a)=>{var n,i;const o=t(s);if(o instanceof Promise)return o.then(d=>{var c,m;if(!d){const g=Et(e,s),_=(m=(c=g.fatal)!==null&&c!==void 0?c:r)!==null&&m!==void 0?m:!0;a.addIssue({code:"custom",...g,fatal:_})}});if(!o){const d=Et(e,s),c=(i=(n=d.fatal)!==null&&n!==void 0?n:r)!==null&&i!==void 0?i:!0;a.addIssue({code:"custom",...d,fatal:c})}}):ue.create()}var hn={object:U.lazycreate},x;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(x||(x={}));var pn=(t,e={message:`Input not instance of ${t.name}`})=>ur(r=>r instanceof t,e),lr=de.create,fr=je.create,mn=Je.create,vn=Ce.create,hr=Te.create,gn=Ne.create,yn=We.create,_n=Se.create,bn=Ae.create,xn=ue.create,wn=ae.create,kn=J.create,jn=qe.create,Cn=ne.create,Tn=U.create,Nn=U.strictCreate,Sn=Oe.create,An=ar.create,On=Ie.create,In=K.create,En=ir.create,Rn=Ge.create,Zn=He.create,Pn=or.create,Mn=Ee.create,$n=Re.create,zn=ze.create,Dn=Ze.create,Un=le.create,Rt=F.create,Ln=B.create,Vn=X.create,Fn=F.createWithPreprocess,Bn=wt.create,Wn=()=>lr().optional(),qn=()=>fr().optional(),Gn=()=>hr().optional(),Hn={string:t=>de.create({...t,coerce:!0}),number:t=>je.create({...t,coerce:!0}),boolean:t=>Te.create({...t,coerce:!0}),bigint:t=>Ce.create({...t,coerce:!0}),date:t=>Ne.create({...t,coerce:!0})},Jn=w,Z=Object.freeze({__proto__:null,defaultErrorMap:ce,setErrorMap:Vs,getErrorMap:Ve,makeIssue:Fe,EMPTY_PATH:Fs,addIssueToContext:h,ParseStatus:$,INVALID:w,DIRTY:oe,OK:M,isAborted:dt,isDirty:ut,isValid:se,isAsync:ke,get util(){return N},get objectUtil(){return ct},ZodParsedType:p,getParsedType:H,ZodType:C,datetimeRegex:tr,ZodString:de,ZodNumber:je,ZodBigInt:Ce,ZodBoolean:Te,ZodDate:Ne,ZodSymbol:We,ZodUndefined:Se,ZodNull:Ae,ZodAny:ue,ZodUnknown:ae,ZodNever:J,ZodVoid:qe,ZodArray:ne,ZodObject:U,ZodUnion:Oe,ZodDiscriminatedUnion:ar,ZodIntersection:Ie,ZodTuple:K,ZodRecord:ir,ZodMap:Ge,ZodSet:He,ZodFunction:or,ZodLazy:Ee,ZodLiteral:Re,ZodEnum:ze,ZodNativeEnum:Ze,ZodPromise:le,ZodEffects:F,ZodTransformer:F,ZodOptional:B,ZodNullable:X,ZodDefault:Pe,ZodCatch:Me,ZodNaN:Je,BRAND:fn,ZodBranded:xt,ZodPipeline:wt,ZodReadonly:$e,custom:ur,Schema:C,ZodSchema:C,late:hn,get ZodFirstPartyTypeKind(){return x},coerce:Hn,any:xn,array:Cn,bigint:vn,boolean:hr,date:gn,discriminatedUnion:An,effect:Rt,enum:zn,function:Pn,instanceof:pn,intersection:On,lazy:Mn,literal:$n,map:Rn,nan:mn,nativeEnum:Dn,never:kn,null:bn,nullable:Vn,number:fr,object:Tn,oboolean:Gn,onumber:qn,optional:Ln,ostring:Wn,pipeline:Bn,preprocess:Fn,promise:Un,record:En,set:Zn,strictObject:Nn,string:lr,symbol:yn,transformer:Rt,tuple:In,undefined:_n,union:Sn,unknown:wn,void:jn,NEVER:Jn,ZodIssueCode:u,quotelessJson:Ls,ZodError:V}),Zt={name:"@imgly/background-removal",version:"1.7.0"},Yn=Z.object({publicPath:Z.string().optional().describe("The public path to the wasm files and the onnx model.").default("https://staticimgly.com/@imgly/background-removal-data/${PACKAGE_VERSION}/dist/").transform(t=>t.replace("${PACKAGE_NAME}",Zt.name).replace("${PACKAGE_VERSION}",Zt.version)),debug:Z.boolean().default(!1).describe("Whether to enable debug logging."),rescale:Z.boolean().default(!0).describe("Whether to rescale the image."),device:Z.enum(["cpu","gpu"]).default("cpu").describe("The device to run the model on."),proxyToWorker:Z.boolean().default(!1).describe("Whether to proxy inference to a web worker."),fetchArgs:Z.any().default({}).describe("Arguments to pass to fetch when loading the model."),progress:Z.function().args(Z.string(),Z.number(),Z.number()).returns(Z.void()).describe("Progress callback.").optional(),model:Z.preprocess(t=>{switch(t){case"large":return"isnet";case"small":return"isnet_quint8";case"medium":return"isnet_fp16";default:return t}},Z.enum(["isnet","isnet_fp16","isnet_quint8"])).default("medium"),output:Z.object({format:Z.enum(["image/png","image/jpeg","image/webp","image/x-rgba8","image/x-alpha8"]).default("image/png"),quality:Z.number().default(.8)}).default({})}).default({}).transform(t=>(t.debug&&console.log("Config:",t),t.debug&&!t.progress&&(t.progress=t.progress??((e,r,s)=>{console.debug(`Downloading ${e}: ${r} of ${s}`)}),crossOriginIsolated||t.debug&&console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),t));function Kn(t){return Yn.parse(t??{})}var Xn=Ye(Ke());async function Qn(t){t.debug&&console.debug("Loading model...",t.model);const e=t.model,s=await(await Gt(`/models/${e}`,t)).arrayBuffer();return await Ds(s,t)}async function ei(t){t=Kn(t);const e=await Qn(t);return{config:t,session:{base:e}}}async function ti(t,e,r){const[a,n,i]=t.shape,o=!1;let d=At(t,1024,1024,o);const c=Zs(d);let m=await Us(r.base,[["input",c]],["output"],e),g=(0,Xn.default)(m[0].data,[1024,1024,1]),_=Ms(g);return e.rescale?(_=At(_,n,a,o),[_,t]):[_,d]}var ri=Ns(ei,t=>JSON.stringify(t));async function ai(t,e){const{config:r,session:s}=await ri(e);r.progress&&r.progress("compute:decode",0,4);const a=await Ps(t,r);r.progress?.("compute:inference",1,4);const[n,i]=await ti(a,r,s);r.progress?.("compute:mask",2,4);const o=i,[d,c]=o.shape,m=d*c;for(let _=0;_<m;_+=1)o.data[4*_+3]=n.data[_];r.progress?.("compute:encode",3,4);const g=await As(o,r.output.quality,r.output.format);return r.progress?.("compute:encode",4,4),g}const si="https://glacial-samiyah-presutural.ngrok-free.dev",ni=["image/jpeg","image/png","image/jpg"],fi=()=>{const t=vr(),[e,r]=D.useState({idNumber:"",firstName:"",middleInitial:"",lastName:"",course:"",address:"",guardianName:"",guardianContact:"",id_picture:null,signature_picture:null}),[s,a]=D.useState(!1),[n,i]=D.useState("idle"),[o,d]=D.useState(""),[c,m]=D.useState(!1),[g,_]=D.useState(null),[v,S]=D.useState({id:0,sig:0}),[b,T]=D.useState(!1),[A,P]=D.useState(!1),[E,R]=D.useState(""),Q=!e.idNumber||!e.firstName||!e.lastName||!e.id_picture||!e.signature_picture,ve=f=>{S(O=>({...O,[f]:0}));const I=setInterval(()=>{S(O=>{const z=O[f];return z>=92?(clearInterval(I),O):{...O,[f]:z+(z<60?12:3)}})},250);return I},j=async(f,I)=>{const O=f.target.files?.[0];if(!O||!ni.includes(O.type))return;const z=I==="id_picture"?"id":"sig";I==="id_picture"?T(!0):P(!0);const pr=ve(z);try{if(I==="id_picture")try{const q=await ai(O);_(URL.createObjectURL(q))}catch(q){console.warn("Client-side BG removal failed",q),_(URL.createObjectURL(O))}const et=await new Promise(q=>{const rt=new FileReader;rt.onload=()=>q(rt.result),rt.readAsDataURL(O)}),tt=await xr.post(`${si}/process_and_return`,{photo:et,type:I},{responseType:"blob",timeout:9e4}),mr=new File([tt.data],`processed_${z}.webp`,{type:"image/webp"});r(q=>({...q,[I]:mr})),S(q=>({...q,[z]:100}))}catch(et){console.error("Bridge Error:",et),r(tt=>({...tt,[I]:O}))}finally{clearInterval(pr),setTimeout(()=>{T(!1),P(!1)},400)}},ee=D.useMemo(()=>e.id_picture?URL.createObjectURL(e.id_picture):"",[e.id_picture]),te=D.useMemo(()=>e.signature_picture?URL.createObjectURL(e.signature_picture):"",[e.signature_picture]),re=async f=>{if(f.preventDefault(),!Q){m(!0);try{await _r();const I=new FormData;Object.entries(e).forEach(([O,z])=>{z!==null&&I.append(O,z)}),await br.post("/students",I,{headers:{"Content-Type":"multipart/form-data"}}),R("success"),window.scrollTo({top:0,behavior:"smooth"})}catch{R("error")}finally{m(!1)}}};return D.useEffect(()=>{if(e.idNumber.length>=8){const f=setTimeout(async()=>{a(!0);try{const I=await wr(e.idNumber);if(I.valid){i("valid");const O=I.data;r(z=>({...z,firstName:O.firstName||"",middleInitial:O.middleName?O.middleName.charAt(0).toUpperCase():"",lastName:O.lastName||"",course:O.course||z.course}))}}catch{i("invalid"),d("ID Not Found")}finally{a(!1)}},800);return()=>clearTimeout(f)}},[e.idNumber]),l.jsxs("div",{className:"min-h-screen bg-[#f1f5f9] font-sans pb-20",children:[l.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-2xl border-b border-slate-200 px-4 md:px-10 py-4",children:l.jsxs("div",{className:"max-w-[1440px] mx-auto flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-3 text-slate-600 font-bold group",children:[l.jsx("div",{className:"p-2.5 bg-slate-100 group-hover:bg-teal-50 rounded-2xl transition-colors",children:l.jsx(kr,{size:22})}),l.jsx("span",{className:"hidden md:inline-block",children:"Exit"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-[10px] font-black tracking-[0.3em] text-teal-600 uppercase",children:"NCnian School ID"}),l.jsx("p",{className:"text-sm lg:text-xl font-black text-slate-900 uppercase",children:"Application Form"})]}),l.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-slate-400 bg-slate-50 px-4 py-2 rounded-2xl border border-slate-100",children:[l.jsx(jr,{size:16}),l.jsx("span",{className:"text-[10px] font-black uppercase",children:"Secure Session"})]})]})}),l.jsxs(jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto mt-8 px-4",children:[l.jsx(gr,{children:(E==="success"||n==="invalid")&&l.jsxs(jt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`mb-6 p-6 rounded-[2rem] border shadow-sm flex items-center justify-between ${E==="success"?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-rose-50 border-rose-200 text-rose-700"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[E==="success"?l.jsx(Mt,{size:20}):l.jsx($t,{size:20}),l.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:E==="success"?"Application Submitted!":o})]}),E==="success"&&l.jsx("button",{onClick:()=>t("/"),className:"bg-emerald-600 text-white px-6 py-2 rounded-xl text-xs font-bold",children:"Done"})]})}),l.jsxs("form",{onSubmit:re,className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[l.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[l.jsxs(Pt,{icon:l.jsx(Tr,{}),title:"Academic Standing",subtitle:"Primary Data",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(Y,{label:"ID Number",value:e.idNumber,onChange:f=>r({...e,idNumber:f}),status:n,isLoading:s}),l.jsx(Y,{label:"Course",value:e.course,onChange:f=>r({...e,course:f})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mt-6",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsx(Y,{label:"Given Name",value:e.firstName,onChange:f=>r({...e,firstName:f})})}),l.jsx("div",{className:"md:col-span-1",children:l.jsx(Y,{label:"M.I.",value:e.middleInitial,onChange:f=>r({...e,middleInitial:f})})}),l.jsx("div",{className:"md:col-span-2",children:l.jsx(Y,{label:"Surname",value:e.lastName,onChange:f=>r({...e,lastName:f})})})]})]}),l.jsxs(Pt,{icon:l.jsx(yr,{}),title:"Personal Data",subtitle:"Guardian & Address",children:[l.jsx(Y,{label:"Address",value:e.address,onChange:f=>r({...e,address:f}),isTextArea:!0}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[l.jsx(Y,{label:"Guardian Name",value:e.guardianName,onChange:f=>r({...e,guardianName:f})}),l.jsx(Y,{label:"Guardian Contact",value:e.guardianContact,onChange:f=>r({...e,guardianContact:f})})]})]})]}),l.jsx("div",{className:"lg:col-span-4",children:l.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-xl border border-slate-100 space-y-10",children:[l.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest text-center",children:"Biometric Previews"}),l.jsxs("div",{className:"space-y-4 text-center",children:[l.jsxs("div",{className:"relative mx-auto w-40 h-40",children:[l.jsx("div",{className:`w-full h-full rounded-[2.5rem] bg-slate-50 border-2 border-dashed flex flex-col items-center justify-center overflow-hidden transition-all duration-300 ${b?"border-teal-500 bg-teal-50 shadow-inner":"border-slate-200"}`,children:b?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx(Rr,{className:"animate-spin text-teal-600",size:40}),l.jsxs("span",{className:"absolute text-[10px] font-black text-teal-800",children:[v.id,"%"]})]}),l.jsx("span",{className:"text-[9px] font-black text-teal-700 uppercase",children:"Enhancing..."})]}):g||ee?l.jsx("img",{src:g||ee,className:"w-full h-full object-cover"}):l.jsx(Or,{size:40,className:"text-slate-300"})}),l.jsx("input",{type:"file",id:"id-p",hidden:!0,onChange:f=>j(f,"id_picture"),disabled:b}),l.jsx("label",{htmlFor:"id-p",className:"absolute -bottom-2 -right-2 bg-teal-600 text-white p-3 rounded-2xl cursor-pointer shadow-lg hover:scale-110",children:l.jsx(Sr,{size:20})})]}),l.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Student Photo (2x2)"})]}),l.jsxs("div",{className:"space-y-4 text-center",children:[l.jsxs("div",{className:"relative mx-auto w-full h-24",children:[l.jsx("div",{className:`w-full h-full rounded-3xl bg-slate-50 border-2 border-dashed flex flex-col items-center justify-center overflow-hidden transition-all ${A?"border-teal-500 bg-teal-50":"border-slate-200"}`,children:A?l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(it,{className:"animate-spin text-teal-600"}),l.jsxs("span",{className:"text-xs font-black text-teal-800",children:[v.sig,"%"]})]}):te?l.jsx("img",{src:te,className:"w-full h-full object-contain p-2"}):l.jsx(Ct,{size:32,className:"text-slate-300"})}),l.jsx("input",{type:"file",id:"sig-p",hidden:!0,onChange:f=>j(f,"signature_picture"),disabled:A}),l.jsx("label",{htmlFor:"sig-p",className:"absolute -bottom-2 -right-2 bg-slate-800 text-white p-3 rounded-2xl cursor-pointer shadow-lg hover:scale-110",children:l.jsx(Ct,{size:20})})]}),l.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Digital Signature"})]}),l.jsxs("button",{type:"submit",disabled:c||b||A||n!=="valid"||Q,className:`w-full py-6 rounded-[2rem] font-black text-sm tracking-[0.2em] shadow-xl transition-all flex items-center justify-center gap-2 ${n==="valid"&&!Q?"bg-[#00928a] text-white hover:bg-[#007a73] active:scale-95":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[c?l.jsx(it,{className:"animate-spin"}):l.jsx(Pr,{size:18}),c?"PROCESSING...":"SUBMIT APPLICATION"]})]})})]})]})]})},Pt=({icon:t,title:e,subtitle:r,children:s})=>l.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[l.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-2xl flex items-center justify-center text-teal-600",children:t}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-black text-slate-900 tracking-tight",children:e}),l.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:r})]})]}),s]}),Y=({label:t,value:e,onChange:r,isTextArea:s=!1,status:a="idle",isLoading:n=!1})=>l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 ml-2 tracking-widest",children:t}),l.jsx("div",{className:"relative",children:s?l.jsx("textarea",{value:e,onChange:i=>r(i.target.value),rows:3,className:"w-full bg-slate-50 border border-slate-200 rounded-3xl p-5 outline-none focus:bg-white focus:border-teal-500 transition-all"}):l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:e,onChange:i=>r(i.target.value),className:`w-full bg-slate-50 border rounded-3xl p-5 outline-none transition-all ${a==="valid"?"border-emerald-500":a==="invalid"?"border-rose-500":"border-slate-200 focus:border-teal-500"}`}),l.jsxs("div",{className:"absolute right-5 top-1/2 -translate-y-1/2",children:[n&&l.jsx(it,{className:"animate-spin text-teal-500",size:18}),a==="valid"&&!n&&l.jsx(Mt,{className:"text-emerald-500",size:18}),a==="invalid"&&!n&&l.jsx($t,{className:"text-rose-500",size:18})]})]})})]});export{fi as default};
